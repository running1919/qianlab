<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SAM9X25 Software Package: libraries/libsdmmc/include/sdmmc_cmd.h Source File</title>
<link href="common/style.css" rel="stylesheet" type="text/css"/>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
    <div id="body">
        <div id="title">ATSAM9X25 Software Package 1.0</div>
        <div id="banner"></div>

<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="dir_a6ce0f6ec275ca8f912c9908441ecb7a.html">libraries</a>      </li>
      <li><a class="el" href="dir_dc20973db8bb6527018204e37562d07d.html">libsdmmc</a>      </li>
      <li><a class="el" href="dir_569b996f163eacc446967927a3b5810f.html">include</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>sdmmc_cmd.h</h1>  </div>
</div>
<div class="contents">
<a href="sdmmc__cmd_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* ----------------------------------------------------------------------------</span>
<a name="l00002"></a>00002 <span class="comment"> *         ATMEL Microcontroller Software Support</span>
<a name="l00003"></a>00003 <span class="comment"> * ----------------------------------------------------------------------------</span>
<a name="l00004"></a>00004 <span class="comment"> * Copyright (c) 2010, Atmel Corporation</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> * All rights reserved.</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<a name="l00009"></a>00009 <span class="comment"> * modification, are permitted provided that the following conditions are met:</span>
<a name="l00010"></a>00010 <span class="comment"> *</span>
<a name="l00011"></a>00011 <span class="comment"> * - Redistributions of source code must retain the above copyright notice,</span>
<a name="l00012"></a>00012 <span class="comment"> * this list of conditions and the disclaimer below.</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * Atmel&#39;s name may not be used to endorse or promote products derived from</span>
<a name="l00015"></a>00015 <span class="comment"> * this software without specific prior written permission.</span>
<a name="l00016"></a>00016 <span class="comment"> *</span>
<a name="l00017"></a>00017 <span class="comment"> * DISCLAIMER: THIS SOFTWARE IS PROVIDED BY ATMEL &quot;AS IS&quot; AND ANY EXPRESS OR</span>
<a name="l00018"></a>00018 <span class="comment"> * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF</span>
<a name="l00019"></a>00019 <span class="comment"> * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE</span>
<a name="l00020"></a>00020 <span class="comment"> * DISCLAIMED. IN NO EVENT SHALL ATMEL BE LIABLE FOR ANY DIRECT, INDIRECT,</span>
<a name="l00021"></a>00021 <span class="comment"> * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
<a name="l00022"></a>00022 <span class="comment"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,</span>
<a name="l00023"></a>00023 <span class="comment"> * OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF</span>
<a name="l00024"></a>00024 <span class="comment"> * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING</span>
<a name="l00025"></a>00025 <span class="comment"> * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,</span>
<a name="l00026"></a>00026 <span class="comment"> * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00027"></a>00027 <span class="comment"> * ----------------------------------------------------------------------------</span>
<a name="l00028"></a>00028 <span class="comment"> */</span>
<a name="l00029"></a>00029 <span class="comment"></span>
<a name="l00030"></a>00030 <span class="comment">/** \file */</span>
<a name="l00031"></a>00031 <span class="comment"></span>
<a name="l00032"></a>00032 <span class="comment">/**</span>
<a name="l00033"></a>00033 <span class="comment"> * \page sdmmc_lib_cmd SD/MMC Lib Commands</span>
<a name="l00034"></a>00034 <span class="comment"> *</span>
<a name="l00035"></a>00035 <span class="comment"> * Implementation for SD/MMC low level driver. Supply a set of SD/MMC mode&#39;s</span>
<a name="l00036"></a>00036 <span class="comment"> * interface.</span>
<a name="l00037"></a>00037 <span class="comment"> *</span>
<a name="l00038"></a>00038 <span class="comment"> * \section Usage</span>
<a name="l00039"></a>00039 <span class="comment"> *</span>
<a name="l00040"></a>00040 <span class="comment"> * - Uses following Library definitions in HAL or application:</span>
<a name="l00041"></a>00041 <span class="comment"> *   -# \ref sdmmc_cardtype : SD/SDIO/MMC card type definitions.</span>
<a name="l00042"></a>00042 <span class="comment"> *   -# \ref sdmmc_rc : Return codes for SD/MMC operation (functions).</span>
<a name="l00043"></a>00043 <span class="comment"> *   -# \ref sSdCard : Struct that defined by application for SD/MMC management.</span>
<a name="l00044"></a>00044 <span class="comment"> * - Uses following Low Level Definitions in HAL:</span>
<a name="l00045"></a>00045 <span class="comment"> *   -# \ref sdmmc_ioctrls : IO control code for HAL implement.</span>
<a name="l00046"></a>00046 <span class="comment"> *   -# \ref sdmmc_cmd_op : Command operation code for HAL to implement.</span>
<a name="l00047"></a>00047 <span class="comment"> *   -# \ref sSdHalFunctions : HAL functions to implement.</span>
<a name="l00048"></a>00048 <span class="comment"> */</span>
<a name="l00049"></a>00049 
<a name="l00050"></a>00050 <span class="preprocessor"> #ifndef _SDMMC_CMD_H</span>
<a name="l00051"></a>00051 <span class="preprocessor"></span><span class="preprocessor"> #define _SDMMC_CMD_H</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span><span class="comment">/** \addtogroup sdmmc_cmd</span>
<a name="l00053"></a>00053 <span class="comment"> *</span>
<a name="l00054"></a>00054 <span class="comment"> *  \copydoc sdmmc_lib_cmd</span>
<a name="l00055"></a>00055 <span class="comment"> *</span>
<a name="l00056"></a>00056 <span class="comment"> *  See \ref sdmmc_lib_cmd for more details.</span>
<a name="l00057"></a>00057 <span class="comment"> *@{</span>
<a name="l00058"></a>00058 <span class="comment"> */</span>
<a name="l00059"></a>00059  
<a name="l00060"></a>00060 <span class="comment">/*------------------------------------------------------------------------------</span>
<a name="l00061"></a>00061 <span class="comment"> *      Includes</span>
<a name="l00062"></a>00062 <span class="comment"> *----------------------------------------------------------------------------*/</span>
<a name="l00063"></a>00063 
<a name="l00064"></a>00064 <span class="preprocessor">#include &lt;stdint.h&gt;</span>
<a name="l00065"></a>00065  
<a name="l00066"></a>00066 <span class="comment">/*------------------------------------------------------------------------------</span>
<a name="l00067"></a>00067 <span class="comment"> *      Definitions</span>
<a name="l00068"></a>00068 <span class="comment"> *----------------------------------------------------------------------------*/</span><span class="comment"></span>
<a name="l00069"></a>00069 <span class="comment">/** \addtogroup sdmmc_cmd_defines SD/MMC General defines</span>
<a name="l00070"></a>00070 <span class="comment">    @{*/</span>
<a name="l00071"></a>00071 <span class="comment"></span>
<a name="l00072"></a>00072 <span class="comment">/**</span>
<a name="l00073"></a>00073 <span class="comment"> *  \addtogroup sdmmc_cardtype SD/MMC Card Types</span>
<a name="l00074"></a>00074 <span class="comment"> *  Here lists the SD/MMC card types.</span>
<a name="l00075"></a>00075 <span class="comment"> *  - Card Type Category Bitmap</span>
<a name="l00076"></a>00076 <span class="comment"> *    - \ref CARD_TYPE_bmHC</span>
<a name="l00077"></a>00077 <span class="comment"> *    - \ref CARD_TYPE_bmSDMMC</span>
<a name="l00078"></a>00078 <span class="comment"> *      - \ref CARD_TYPE_bmUNKNOWN</span>
<a name="l00079"></a>00079 <span class="comment"> *      - \ref CARD_TYPE_bmSD</span>
<a name="l00080"></a>00080 <span class="comment"> *      - \ref CARD_TYPE_bmMMC</span>
<a name="l00081"></a>00081 <span class="comment"> *    - \ref CARD_TYPE_bmSDIO</span>
<a name="l00082"></a>00082 <span class="comment"> *  - Card Types</span>
<a name="l00083"></a>00083 <span class="comment"> *    - \ref CARD_UNKNOWN</span>
<a name="l00084"></a>00084 <span class="comment"> *    - \ref CARD_SD</span>
<a name="l00085"></a>00085 <span class="comment"> *    - \ref CARD_SDHC</span>
<a name="l00086"></a>00086 <span class="comment"> *    - \ref CARD_MMC</span>
<a name="l00087"></a>00087 <span class="comment"> *    - \ref CARD_MMCHD</span>
<a name="l00088"></a>00088 <span class="comment"> *    - \ref CARD_SDIO</span>
<a name="l00089"></a>00089 <span class="comment"> *    - \ref CARD_SDCOMBO</span>
<a name="l00090"></a>00090 <span class="comment"> *    - \ref CARD_SDHCCOMBO</span>
<a name="l00091"></a>00091 <span class="comment"> *      @{*/</span>
<a name="l00092"></a><a class="code" href="group__sdmmc__cardtype.html#ga4cb6655e2dc559a30db6ae81efd232a7">00092</a> <span class="preprocessor">#define CARD_TYPE_bmHC           (1 &lt;&lt; 0)   </span><span class="comment">/**&lt; Bit for High-Capacity(Density) */</span>
<a name="l00093"></a><a class="code" href="group__sdmmc__cardtype.html#ga42594c45fac98a62b012ec3641bac8e5">00093</a> <span class="preprocessor">#define CARD_TYPE_bmSDMMC        (0x3 &lt;&lt; 1) </span><span class="comment">/**&lt; Bits mask for SD/MMC */</span>
<a name="l00094"></a><a class="code" href="group__sdmmc__cardtype.html#ga85972028ca902c4103a96da15840ff08">00094</a> <span class="preprocessor">#define CARD_TYPE_bmUNKNOWN      (0x0 &lt;&lt; 1) </span><span class="comment">/**&lt; Bits for Unknown card */</span>
<a name="l00095"></a><a class="code" href="group__sdmmc__cardtype.html#gaa6a8c3512b0026e1e1e868519c32ea5f">00095</a> <span class="preprocessor">#define CARD_TYPE_bmSD           (0x1 &lt;&lt; 1) </span><span class="comment">/**&lt; Bits for SD */</span>
<a name="l00096"></a><a class="code" href="group__sdmmc__cardtype.html#ga31828db74f62996887d42d783d05d609">00096</a> <span class="preprocessor">#define CARD_TYPE_bmMMC          (0x2 &lt;&lt; 1) </span><span class="comment">/**&lt; Bits for MMC */</span>
<a name="l00097"></a><a class="code" href="group__sdmmc__cardtype.html#ga0881e572c2c166e60e7f050546277405">00097</a> <span class="preprocessor">#define CARD_TYPE_bmSDIO         (1 &lt;&lt; 3)   </span><span class="comment">/**&lt; Bit for SDIO */</span>
<a name="l00098"></a>00098 <span class="comment">/** Card can not be identified */</span>
<a name="l00099"></a><a class="code" href="group__sdmmc__cardtype.html#ga2bcf7921ec4872d70667001a21fbe3b4">00099</a> <span class="preprocessor">#define CARD_UNKNOWN    (0)</span>
<a name="l00100"></a>00100 <span class="preprocessor"></span><span class="comment">/** SD Card (0x2) */</span>
<a name="l00101"></a><a class="code" href="group__sdmmc__cardtype.html#ga5f88e605935067b9dccd47b5ab2994e8">00101</a> <span class="preprocessor">#define CARD_SD         (CARD_TYPE_bmSD)</span>
<a name="l00102"></a>00102 <span class="preprocessor"></span><span class="comment">/** SD High Capacity Card (0x3) */</span>
<a name="l00103"></a><a class="code" href="group__sdmmc__cardtype.html#ga08ec437adcd4a70a6d4804dfa3171086">00103</a> <span class="preprocessor">#define CARD_SDHC       (CARD_TYPE_bmSD|CARD_TYPE_bmHC)</span>
<a name="l00104"></a>00104 <span class="preprocessor"></span><span class="comment">/** MMC Card (0x4) */</span>
<a name="l00105"></a><a class="code" href="group__sdmmc__cardtype.html#ga1df56d102459c52ef22d4e4f2d0abaef">00105</a> <span class="preprocessor">#define CARD_MMC        (CARD_TYPE_bmMMC)</span>
<a name="l00106"></a>00106 <span class="preprocessor"></span><span class="comment">/** MMC High-Density Card (0x5) */</span>
<a name="l00107"></a><a class="code" href="group__sdmmc__cardtype.html#ga37c39c77a2025af2b22440dcb3712c0a">00107</a> <span class="preprocessor">#define CARD_MMCHD      (CARD_TYPE_bmMMC|CARD_TYPE_bmHC)</span>
<a name="l00108"></a>00108 <span class="preprocessor"></span><span class="comment">/** SDIO only card (0x8) */</span>
<a name="l00109"></a><a class="code" href="group__sdmmc__cardtype.html#gad914628e823c3363d6acda0eeab5475f">00109</a> <span class="preprocessor">#define CARD_SDIO       (CARD_TYPE_bmSDIO)</span>
<a name="l00110"></a>00110 <span class="preprocessor"></span><span class="comment">/** SDIO Combo, with SD embedded (0xA) */</span>
<a name="l00111"></a><a class="code" href="group__sdmmc__cardtype.html#ga5249813b4d083c79dc34ed48a8788a18">00111</a> <span class="preprocessor">#define CARD_SDCOMBO    (CARD_TYPE_bmSDIO|CARD_SD)</span>
<a name="l00112"></a>00112 <span class="preprocessor"></span><span class="comment">/** SDIO Combo, with SDHC embedded (0xB) */</span>
<a name="l00113"></a><a class="code" href="group__sdmmc__cardtype.html#gac871c8b0d83c6c07000a3f4bf8aeb889">00113</a> <span class="preprocessor">#define CARD_SDHCCOMBO  (CARD_TYPE_bmSDIO|CARD_SDHC)</span>
<a name="l00114"></a>00114 <span class="preprocessor"></span><span class="comment">/**     @}*/</span>
<a name="l00115"></a>00115 <span class="comment"></span>
<a name="l00116"></a>00116 <span class="comment">/**</span>
<a name="l00117"></a>00117 <span class="comment"> *  \addtogroup sdmmc_rc SD/MMC Return Codes</span>
<a name="l00118"></a>00118 <span class="comment"> *  Here lists the SD/MMC driver return codes.</span>
<a name="l00119"></a>00119 <span class="comment"> *  - \ref SDMMC_ERROR</span>
<a name="l00120"></a>00120 <span class="comment"> *  - \ref SDMMC_ERROR_NORESPONSE</span>
<a name="l00121"></a>00121 <span class="comment"> *  - \ref SDMMC_ERROR_NOT_INITIALIZED</span>
<a name="l00122"></a>00122 <span class="comment"> *  - \ref SDMMC_ERROR_BUSY</span>
<a name="l00123"></a>00123 <span class="comment"> *  - \ref SDMMC_ERROR_PARAM</span>
<a name="l00124"></a>00124 <span class="comment"> *  - \ref SDMMC_ERROR_NOT_SUPPORT</span>
<a name="l00125"></a>00125 <span class="comment"> *  - \ref SDMMC_OK</span>
<a name="l00126"></a>00126 <span class="comment"> *  - \ref SDMMC_ERROR_LOCKED</span>
<a name="l00127"></a>00127 <span class="comment"> *      @{*/</span>
<a name="l00128"></a>00128 <span class="comment"></span>
<a name="l00129"></a>00129 <span class="comment">/** SD/MMC Return codes */</span>
<a name="l00130"></a><a class="code" href="group__sdmmc__rc.html#gafd9dec7822107663de3593de1d910334">00130</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00131"></a><a class="code" href="group__sdmmc__rc.html#ggafd9dec7822107663de3593de1d910334a5712ce57074a092d71538bf1691123eb">00131</a>     <a class="code" href="group__sdmmc__rc.html#ggafd9dec7822107663de3593de1d910334a5712ce57074a092d71538bf1691123eb">SDMMC_OK</a> = 0,           <span class="comment">/**&lt; Operation OK */</span>
<a name="l00132"></a><a class="code" href="group__sdmmc__rc.html#ggafd9dec7822107663de3593de1d910334a6f5f4345757b21ace936b6fe5e4ba471">00132</a>     <a class="code" href="group__sdmmc__rc.html#ggafd9dec7822107663de3593de1d910334a6f5f4345757b21ace936b6fe5e4ba471">SDMMC_LOCKED</a> = 1,       <span class="comment">/**&lt; Failed because driver locked */</span>
<a name="l00133"></a><a class="code" href="group__sdmmc__rc.html#ggafd9dec7822107663de3593de1d910334a2b18031ec0d92f23cbba02e07f034cb1">00133</a>     <a class="code" href="group__sdmmc__rc.html#ggafd9dec7822107663de3593de1d910334a2b18031ec0d92f23cbba02e07f034cb1">SDMMC_BUSY</a> = 2,         <span class="comment">/**&lt; Failed because driver busy */</span>
<a name="l00134"></a><a class="code" href="group__sdmmc__rc.html#ggafd9dec7822107663de3593de1d910334af1cd00bcbaa70fc813e9be3b02178699">00134</a>     <a class="code" href="group__sdmmc__rc.html#ggafd9dec7822107663de3593de1d910334af1cd00bcbaa70fc813e9be3b02178699">SDMMC_NO_RESPONSE</a> = 3,  <span class="comment">/**&lt; Failed because card not respond */</span>
<a name="l00135"></a><a class="code" href="group__sdmmc__rc.html#ggafd9dec7822107663de3593de1d910334a2ad7092054f6cd67dee58b8d072f0eeb">00135</a>     SDMMC_CHANGED,          <span class="comment">/**&lt; Setting param changed due to limitation */</span>
<a name="l00136"></a><a class="code" href="group__sdmmc__rc.html#ggafd9dec7822107663de3593de1d910334a22143bc8e6eea9e93b9344055a6f6a79">00136</a>     SDMMC_ERR,              <span class="comment">/**&lt; Failed with general error */</span>
<a name="l00137"></a><a class="code" href="group__sdmmc__rc.html#ggafd9dec7822107663de3593de1d910334aef46d8be53d3af657a587372dd74430c">00137</a>     SDMMC_ERR_IO,           <span class="comment">/**&lt; Failed because of IO error */</span>
<a name="l00138"></a><a class="code" href="group__sdmmc__rc.html#ggafd9dec7822107663de3593de1d910334a23bbd09751c9e2ec409a36e104e7998d">00138</a>     SDMMC_ERR_RESP,         <span class="comment">/**&lt; Error reported in response code */</span>
<a name="l00139"></a><a class="code" href="group__sdmmc__rc.html#ggafd9dec7822107663de3593de1d910334aab6f30d5cdf19774c891305c1a808d08">00139</a>     SDMMC_NOT_INITIALIZED,  <span class="comment">/**&lt; Fail to initialize */</span>
<a name="l00140"></a><a class="code" href="group__sdmmc__rc.html#ggafd9dec7822107663de3593de1d910334ad449a2bfcbeb2594f4272c3b948619f8">00140</a>     SDMMC_PARAM,            <span class="comment">/**&lt; Parameter error */</span>
<a name="l00141"></a><a class="code" href="group__sdmmc__rc.html#ggafd9dec7822107663de3593de1d910334a85d0029e0a09e29c1e34cb50b9f99463">00141</a>     SDMMC_STATE,            <span class="comment">/**&lt; State error */</span>
<a name="l00142"></a><a class="code" href="group__sdmmc__rc.html#ggafd9dec7822107663de3593de1d910334a9f80aa81905a05c26033de397ed35434">00142</a>     SDMMC_USER_CANCEL,      <span class="comment">/**&lt; Canceled by user */</span>
<a name="l00143"></a><a class="code" href="group__sdmmc__rc.html#ggafd9dec7822107663de3593de1d910334a45bccc5a6e4828e7eba81030ef683c5b">00143</a>     <a class="code" href="group__sdmmc__rc.html#ggafd9dec7822107663de3593de1d910334a45bccc5a6e4828e7eba81030ef683c5b">SDMMC_NOT_SUPPORTED</a>     <span class="comment">/**&lt; Command(Operation) not supported */</span>
<a name="l00144"></a>00144 } eSDMMC_RC;
<a name="l00145"></a>00145 <span class="comment"></span>
<a name="l00146"></a>00146 <span class="comment">/** No error */</span>
<a name="l00147"></a><a class="code" href="group__sdmmc__rc.html#gaaf57e3a163b285e143adaac71bd747c5">00147</a> <span class="preprocessor">#define SDMMC_SUCCESS               SDMMC_OK</span>
<a name="l00148"></a>00148 <span class="preprocessor"></span><span class="comment">/** The driver is locked. */</span>
<a name="l00149"></a><a class="code" href="group__sdmmc__rc.html#ga5f231415267058d5326842c5fe656662">00149</a> <span class="preprocessor">#define SDMMC_ERROR_LOCKED          SDMMC_LOCKED</span>
<a name="l00150"></a>00150 <span class="preprocessor"></span><span class="comment">/** There was an error with the SD driver. */</span>
<a name="l00151"></a><a class="code" href="group__sdmmc__rc.html#ga0a0e6bf631f6467ed54badb1715e65ec">00151</a> <span class="preprocessor">#define SDMMC_ERROR                 SDMMC_ERR</span>
<a name="l00152"></a>00152 <span class="preprocessor"></span><span class="comment">/** The SD card did not answer the command. */</span>
<a name="l00153"></a><a class="code" href="group__sdmmc__rc.html#gabb302308d4e771140374f62ca5cd49de">00153</a> <span class="preprocessor">#define SDMMC_ERROR_NORESPONSE      SDMMC_NO_RESPONSE</span>
<a name="l00154"></a>00154 <span class="preprocessor"></span><span class="comment">/** The SD card is not initialized. */</span>
<a name="l00155"></a><a class="code" href="group__sdmmc__rc.html#ga5bd95585e6fa284ccad5554d0919acdf">00155</a> <span class="preprocessor">#define SDMMC_ERROR_NOT_INITIALIZED SDMMC_NOT_INITIALIZED</span>
<a name="l00156"></a>00156 <span class="preprocessor"></span><span class="comment">/** The SD card is busy. */</span>
<a name="l00157"></a><a class="code" href="group__sdmmc__rc.html#gaaea1bf5ab746268b578c341c2de5dbe1">00157</a> <span class="preprocessor">#define SDMMC_ERROR_BUSY            SDMMC_BUSY</span>
<a name="l00158"></a>00158 <span class="preprocessor"></span><span class="comment">/** The input parameter error */</span>
<a name="l00159"></a><a class="code" href="group__sdmmc__rc.html#gad5351ddc772878e3ad77e6ff2dc10e1d">00159</a> <span class="preprocessor">#define SDMMC_ERROR_PARAM           SDMMC_PARAM</span>
<a name="l00160"></a>00160 <span class="preprocessor"></span><span class="comment">/** Invalid state */</span>
<a name="l00161"></a><a class="code" href="group__sdmmc__rc.html#gad293991f2949919a1c904cbca58cc6f5">00161</a> <span class="preprocessor">#define SDMMC_ERROR_STATE           SDMMC_STATE</span>
<a name="l00162"></a>00162 <span class="preprocessor"></span><span class="comment">/** User canceled */</span>
<a name="l00163"></a><a class="code" href="group__sdmmc__rc.html#ga8dcd19d19378b726efbc924aaff93920">00163</a> <span class="preprocessor">#define SDMMC_ERROR_USER_CANCEL     SDMMC_USER_CANCEL</span>
<a name="l00164"></a>00164 <span class="preprocessor"></span><span class="comment">/** The operation is not supported. */</span>
<a name="l00165"></a><a class="code" href="group__sdmmc__rc.html#ga28504922db488cf77295f0da98ddf87a">00165</a> <span class="preprocessor">#define SDMMC_ERROR_NOT_SUPPORT     SDMMC_NOT_SUPPORTED</span>
<a name="l00166"></a>00166 <span class="preprocessor"></span><span class="comment">/**     @}*/</span>
<a name="l00167"></a>00167 <span class="comment"></span>
<a name="l00168"></a>00168 <span class="comment">/**</span>
<a name="l00169"></a>00169 <span class="comment"> *  \addtogroup sdmmc_states SD/MMC Card States</span>
<a name="l00170"></a>00170 <span class="comment"> *      @{</span>
<a name="l00171"></a>00171 <span class="comment"> */</span>
<a name="l00172"></a><a class="code" href="group__sdmmc__states.html#ga8f5e32d6fbb10a88273953fd4e8f5c2b">00172</a> <span class="preprocessor">#define SDMMC_STATE_OFF             0x0 </span><span class="comment">/**&lt; Power OFF */</span>
<a name="l00173"></a><a class="code" href="group__sdmmc__states.html#gac5d36dcfdce61b677fa3f5dbd15fc6b5">00173</a> <span class="preprocessor">#define SDMMC_STATE_ON              0x1 </span><span class="comment">/**&lt; Power ON */</span>
<a name="l00174"></a><a class="code" href="group__sdmmc__states.html#gaf71696359d0c6c31b8b99039fe131c30">00174</a> <span class="preprocessor">#define SDMMC_STATE_IDENT           0x2 </span><span class="comment">/**&lt; Card Identification (IDLE,READY,IDENT) */</span>
<a name="l00175"></a><a class="code" href="group__sdmmc__states.html#gabbff14763c18d22b893dc6931777e2a9">00175</a> <span class="preprocessor">#define SDMMC_STATE_INACTIVE        0x3 </span><span class="comment">/**&lt; Inactive */</span>
<a name="l00176"></a><a class="code" href="group__sdmmc__states.html#ga91b84ab4c86168d3cf6a2b1f9371ed8b">00176</a> <span class="preprocessor">#define SDMMC_STATE_IRQ             0x4 </span><span class="comment">/**&lt; Wait-IRQ, interrupt mode */</span>
<a name="l00177"></a><a class="code" href="group__sdmmc__states.html#ga6c6504e5e44a1068392ba43a70280b20">00177</a> <span class="preprocessor">#define SDMMC_STATE_STBY            0x5 </span><span class="comment">/**&lt; Addressed */</span>
<a name="l00178"></a><a class="code" href="group__sdmmc__states.html#gae519f741f1f6f62bf0ad8f86a4204230">00178</a> <span class="preprocessor">#define SDMMC_STATE_TRAN            0x6 </span><span class="comment">/**&lt; Ready for transfer */</span>
<a name="l00179"></a><a class="code" href="group__sdmmc__states.html#ga9502ebd9bcc29bb8e7e469cb97cb6ee2">00179</a> <span class="preprocessor">#define SDMMC_STATE_DATA_WR         0x7 </span><span class="comment">/**&lt; Data TX in progress */</span>
<a name="l00180"></a><a class="code" href="group__sdmmc__states.html#ga1839cb50148570a22d375da3e2f19dce">00180</a> <span class="preprocessor">#define SDMMC_STATE_DATA_RD         0x8 </span><span class="comment">/**&lt; Data RX in progress */</span>
<a name="l00181"></a>00181 <span class="comment">/**     @}*/</span>
<a name="l00182"></a>00182 <span class="comment"></span>
<a name="l00183"></a>00183 <span class="comment">/** \ingroup sdmmc_hal_def</span>
<a name="l00184"></a>00184 <span class="comment"> *  \addtogroup sdmmc_ioctrls SD/MMC IO Control Codes</span>
<a name="l00185"></a>00185 <span class="comment"> *  Here lists the control codes for SD/MMC low level driver to support lib.</span>
<a name="l00186"></a>00186 <span class="comment"> *  - \ref SDMMC_IOCTL_POWER: Power ON/OFF control.</span>
<a name="l00187"></a>00187 <span class="comment"> *  - \ref SDMMC_IOCTL_SET_CLOCK: Set clock and return actual clock.</span>
<a name="l00188"></a>00188 <span class="comment"> *  - \ref SDMMC_IOCTL_GET_BUSMODE: Return max supported bus mode.</span>
<a name="l00189"></a>00189 <span class="comment"> *  - \ref SDMMC_IOCTL_GET_HSMODE: Return if HS mode is supported.</span>
<a name="l00190"></a>00190 <span class="comment"> *  - \ref SDMMC_IOCTL_GET_BOOTMODE: Return if Boot mode is supported.</span>
<a name="l00191"></a>00191 <span class="comment"> *      @{*/</span><span class="comment"></span>
<a name="l00192"></a>00192 <span class="comment">/** SD/MMC Low Level IO Control: Check busy.</span>
<a name="l00193"></a>00193 <span class="comment">    Must implement for low level driver busy check.</span>
<a name="l00194"></a>00194 <span class="comment">    IOCtrl(pSd, SDMMC_IOCTL_BUSY_CHECK, (uint32_t)pBusyFlag) */</span>
<a name="l00195"></a><a class="code" href="group__sdmmc__ioctrls.html#ga7bb7e8f4e4ef84955807f44575168b75">00195</a> <span class="preprocessor">#define SDMMC_IOCTL_BUSY_CHECK    0x0</span>
<a name="l00196"></a>00196 <span class="preprocessor"></span><span class="comment">/** SD/MMC Low Level IO Control: Power control.</span>
<a name="l00197"></a>00197 <span class="comment">    Recomended for SD/MMC/SDIO power control.</span>
<a name="l00198"></a>00198 <span class="comment">    IOCtrl(pSd, SDMMC_IOCTL_POWER, (uint32_t)ON/OFF) */</span>
<a name="l00199"></a><a class="code" href="group__sdmmc__ioctrls.html#ga00a82889490184427b3ef522b9d996da">00199</a> <span class="preprocessor">#define SDMMC_IOCTL_POWER         0x1</span>
<a name="l00200"></a>00200 <span class="preprocessor"></span><span class="comment">/** SD/MMC Low Level IO Control: Cancel command.</span>
<a name="l00201"></a>00201 <span class="comment">    IOCtrl(pSd, SDMMC_IOCTL_CANCEL_CMD, NULL) */</span>
<a name="l00202"></a><a class="code" href="group__sdmmc__ioctrls.html#gab816e5258f956756f6e4d22cbb4601e1">00202</a> <span class="preprocessor">#define SDMMC_IOCTL_CANCEL_CMD    0x2</span>
<a name="l00203"></a>00203 <span class="preprocessor"></span><span class="comment">/** SD/MMC Low Level IO Control: Reset &amp; disable HW.</span>
<a name="l00204"></a>00204 <span class="comment">    IOCtrl(pSd, SDMMC_IOCTL_RESET, NULL) */</span>
<a name="l00205"></a><a class="code" href="group__sdmmc__ioctrls.html#ga2e2c99dd4d77a71508586530d77343be">00205</a> <span class="preprocessor">#define SDMMC_IOCTL_RESET         0x3</span>
<a name="l00206"></a>00206 <span class="preprocessor"></span><span class="comment">/** SD/MMC Low Level IO Control: Set clock frequency, return applied frequency</span>
<a name="l00207"></a>00207 <span class="comment">    Recomended for clock selection</span>
<a name="l00208"></a>00208 <span class="comment">    IOCtrl(pSd, SDMMC_IOCTL_SET_CLOCK, (uint32_t*)pIoFreq) */</span>
<a name="l00209"></a><a class="code" href="group__sdmmc__ioctrls.html#ga6f4117ae38fea45c18cc4aa6a8720429">00209</a> <span class="preprocessor">#define SDMMC_IOCTL_SET_CLOCK     0x11</span>
<a name="l00210"></a>00210 <span class="preprocessor"></span><span class="comment">/** SD/MMC Low Level IO Control: Set bus mode, return applied mode</span>
<a name="l00211"></a>00211 <span class="comment">    Recomended for bus mode selection</span>
<a name="l00212"></a>00212 <span class="comment">    IOCtrl(pSd, SDMMC_IOCTL_SET_BUSMODE, (uint32_t*)pIoBusMode) */</span>
<a name="l00213"></a><a class="code" href="group__sdmmc__ioctrls.html#gafc5e89aaa94cd7945ce3016ce17487d3">00213</a> <span class="preprocessor">#define SDMMC_IOCTL_SET_BUSMODE   0x12</span>
<a name="l00214"></a>00214 <span class="preprocessor"></span><span class="comment">/** SD/MMC Low Level IO Control: Set HS mode, return applied mode</span>
<a name="l00215"></a>00215 <span class="comment">    Recommended for HS mode enable</span>
<a name="l00216"></a>00216 <span class="comment">    IOCtrl(pSd, SDMMC_IOCTL_SET_BUSMODE, (uint32_t*)pIoHsMode) */</span>
<a name="l00217"></a><a class="code" href="group__sdmmc__ioctrls.html#gab9257a92d6eadac1483f6c375021050b">00217</a> <span class="preprocessor">#define SDMMC_IOCTL_SET_HSMODE    0x13</span>
<a name="l00218"></a>00218 <span class="preprocessor"></span><span class="comment">/** SD/MMC Low Level IO Control: Set Boot mode */</span>
<a name="l00219"></a><a class="code" href="group__sdmmc__ioctrls.html#gaa8402ec94680bd7ef592d5f5057eb32f">00219</a> <span class="preprocessor">#define SDMMC_IOCTL_SET_BOOTMODE  0x14</span>
<a name="l00220"></a>00220 <span class="preprocessor"></span><span class="comment">/** SD/MMC Low Level IO Control: Get clock frequency */</span>
<a name="l00221"></a><a class="code" href="group__sdmmc__ioctrls.html#ga5453415e23b140df7680ee5172478413">00221</a> <span class="preprocessor">#define SDMMC_IOCTL_GET_CLOCK     0x21</span>
<a name="l00222"></a>00222 <span class="preprocessor"></span><span class="comment">/** SD/MMC Low Level IO Control: Bus mode */</span>
<a name="l00223"></a><a class="code" href="group__sdmmc__ioctrls.html#gab6c9a80f8e57bdfd35e753e6d458d2b1">00223</a> <span class="preprocessor">#define SDMMC_IOCTL_GET_BUSMODE   0x22</span>
<a name="l00224"></a>00224 <span class="preprocessor"></span><span class="comment">/** SD/MMC Low Level IO Control: High-speed mode */</span>
<a name="l00225"></a><a class="code" href="group__sdmmc__ioctrls.html#gae93102dfa081f624d2a4cf100013e4a2">00225</a> <span class="preprocessor">#define SDMMC_IOCTL_GET_HSMODE    0x23</span>
<a name="l00226"></a>00226 <span class="preprocessor"></span><span class="comment">/** SD/MMC Low Level IO Control: Boot mode */</span>
<a name="l00227"></a><a class="code" href="group__sdmmc__ioctrls.html#gaca240471cb5b6e7181450e084b67b8bc">00227</a> <span class="preprocessor">#define SDMMC_IOCTL_GET_BOOTMODE  0x24</span>
<a name="l00228"></a>00228 <span class="preprocessor"></span><span class="comment">/**     @}*/</span>
<a name="l00229"></a>00229 <span class="comment"></span>
<a name="l00230"></a>00230 <span class="comment">/** \ingroup sdmmc_hal_def</span>
<a name="l00231"></a>00231 <span class="comment"> *  \addtogroup sdmmc_cmd_op SD/MMC Command Operations</span>
<a name="l00232"></a>00232 <span class="comment"> *      @{</span>
<a name="l00233"></a>00233 <span class="comment"> */</span>
<a name="l00234"></a><a class="code" href="group__sdmmc__cmd__op.html#ga2c48a574fcc8e1b6a312e06e7b93a2b7">00234</a> <span class="preprocessor">#define SDMMC_CMD_bmPOWERON     (0x1      ) </span><span class="comment">/**&lt; Do Power ON sequence */</span>
<a name="l00235"></a><a class="code" href="group__sdmmc__cmd__op.html#gadfa232fa7f7efdcac6725f1087d0ac2d">00235</a> <span class="preprocessor">#define SDMMC_CMD_bmCOMMAND     (0x1 &lt;&lt;  1) </span><span class="comment">/**&lt; Send command */</span>
<a name="l00236"></a><a class="code" href="group__sdmmc__cmd__op.html#gaff22566061d9316ae682f2575ed9d73e">00236</a> <span class="preprocessor">#define SDMMC_CMD_bmDATAMASK    (0x3 &lt;&lt;  2) </span><span class="comment">/**&lt; Data operation mask */</span>
<a name="l00237"></a><a class="code" href="group__sdmmc__cmd__op.html#gac219739e06a8f40c7480d4c994e313f7">00237</a> <span class="preprocessor">#define SDMMC_CMD_bmNODATA      (0x0 &lt;&lt;  2) </span><span class="comment">/**&lt; No data transfer */</span>
<a name="l00238"></a><a class="code" href="group__sdmmc__cmd__op.html#gad40090404242cdaf14e69e460d71d949">00238</a> <span class="preprocessor">#define SDMMC_CMD_RX             0x1        </span><span class="comment">/**&lt; data RX */</span>
<a name="l00239"></a><a class="code" href="group__sdmmc__cmd__op.html#gae8f0f2685e4e0909f10fd6037498a528">00239</a> <span class="preprocessor">#define SDMMC_CMD_bmDATARX      (0x1 &lt;&lt;  2) </span><span class="comment">/**&lt; Bits for data RX */</span>
<a name="l00240"></a><a class="code" href="group__sdmmc__cmd__op.html#gaff21ce7f6ff0c4dce6742f404945b55b">00240</a> <span class="preprocessor">#define SDMMC_CMD_TX             0x2        </span><span class="comment">/**&lt; data TX */</span>
<a name="l00241"></a><a class="code" href="group__sdmmc__cmd__op.html#ga4447c2ec102f3443e9cd2fe2bd1cff88">00241</a> <span class="preprocessor">#define SDMMC_CMD_bmDATATX      (0x2 &lt;&lt;  2) </span><span class="comment">/**&lt; Bits for data TX */</span>
<a name="l00242"></a><a class="code" href="group__sdmmc__cmd__op.html#ga10d437fda0b41242a6673d2a6b88ad14">00242</a> <span class="preprocessor">#define SDMMC_CMD_STOPXFR        0x3        </span><span class="comment">/**&lt; data stop */</span>
<a name="l00243"></a><a class="code" href="group__sdmmc__cmd__op.html#ga17233cb5e28c97587d8a755533bb73e1">00243</a> <span class="preprocessor">#define SDMMC_CMD_bmSTOPXFR     (0x3 &lt;&lt;  2) </span><span class="comment">/**&lt; Bits for transfer stop */</span>
<a name="l00244"></a><a class="code" href="group__sdmmc__cmd__op.html#gaa24a1f0e72fea2eb99ba4aafff362584">00244</a> <span class="preprocessor">#define SDMMC_CMD_bmRESPMASK    (0x7 &lt;&lt;  4) </span><span class="comment">/**&lt; Bits masks response option */</span>
<a name="l00245"></a><a class="code" href="group__sdmmc__cmd__op.html#ga07d01cd931f2be7b39b4d6a39abb6446">00245</a> <span class="preprocessor">#define SDMMC_CMD_bmRESP(R)     (((R)&amp;0x7) &lt;&lt; 4)    </span><span class="comment">/**&lt; Bits setup response */</span>
<a name="l00246"></a>00246 
<a name="l00247"></a><a class="code" href="group__sdmmc__cmd__op.html#ga29a64987f8c611377a0dd4b23c60daf6">00247</a> <span class="preprocessor">#define SDMMC_CMD_bmCRC         (0x1 &lt;&lt;  7) </span><span class="comment">/**&lt; CRC is enabled (SPI only) */</span>
<a name="l00248"></a><a class="code" href="group__sdmmc__cmd__op.html#ga8ecb979c365aa2724c7bfe39b6c08767">00248</a> <span class="preprocessor">#define SDMMC_CMD_bmOD          (0x1 &lt;&lt;  8) </span><span class="comment">/**&lt; Open-Drain is enabled (MMC) */</span>
<a name="l00249"></a><a class="code" href="group__sdmmc__cmd__op.html#ga51670fd1ff84cef2a829110c9e70cdc9">00249</a> <span class="preprocessor">#define SDMMC_CMD_bmIO          (0x1 &lt;&lt;  9) </span><span class="comment">/**&lt; IO function */</span>
<a name="l00250"></a><a class="code" href="group__sdmmc__cmd__op.html#ga1ff73b8e07449960adc2383d0187f251">00250</a> <span class="preprocessor">#define SDMMC_CMD_bmBUSY        (0x1 &lt;&lt; 10) </span><span class="comment">/**&lt; Do busy check */</span>
<a name="l00251"></a>00251 <span class="comment">/** Cmd: Do power on initialize */</span>
<a name="l00252"></a><a class="code" href="group__sdmmc__cmd__op.html#gae0ad41a789fdec67920c50eb77c775a5">00252</a> <span class="preprocessor">#define SDMMC_CMD_POWERONINIT   (SDMMC_CMD_bmPOWERON)</span>
<a name="l00253"></a>00253 <span class="preprocessor"></span><span class="comment">/** Cmd: Data only, read */</span>
<a name="l00254"></a><a class="code" href="group__sdmmc__cmd__op.html#gae6480778f1f0a43525394e32123dcee5">00254</a> <span class="preprocessor">#define SDMMC_CMD_DATARX        (SDMMC_CMD_bmDATARX)</span>
<a name="l00255"></a>00255 <span class="preprocessor"></span><span class="comment">/** Cmd: Data only, write */</span>
<a name="l00256"></a><a class="code" href="group__sdmmc__cmd__op.html#ga684c278df152451f7c83e798d408f1b6">00256</a> <span class="preprocessor">#define SDMMC_CMD_DATATX        (SDMMC_CMD_bmDATATX)</span>
<a name="l00257"></a>00257 <span class="preprocessor"></span><span class="comment">/** Cmd: Command without data */</span>
<a name="l00258"></a><a class="code" href="group__sdmmc__cmd__op.html#ga9dc3e7478841b0b6e96d752288195a72">00258</a> <span class="preprocessor">#define SDMMC_CMD_CNODATA(R)    ( SDMMC_CMD_bmCOMMAND \</span>
<a name="l00259"></a>00259 <span class="preprocessor">                                | SDMMC_CMD_bmRESP(R) )</span>
<a name="l00260"></a>00260 <span class="preprocessor"></span><span class="comment">/** Cmd: Command with data, read */</span>
<a name="l00261"></a><a class="code" href="group__sdmmc__cmd__op.html#gac17c1722b0b1705541af5de71d21048f">00261</a> <span class="preprocessor">#define SDMMC_CMD_CDATARX(R)    ( SDMMC_CMD_bmCOMMAND \</span>
<a name="l00262"></a>00262 <span class="preprocessor">                                | SDMMC_CMD_bmDATARX \</span>
<a name="l00263"></a>00263 <span class="preprocessor">                                | SDMMC_CMD_bmRESP(R) )</span>
<a name="l00264"></a>00264 <span class="preprocessor"></span><span class="comment">/** Cmd: Command with data, write */</span>
<a name="l00265"></a><a class="code" href="group__sdmmc__cmd__op.html#gad9e8318e15aac38e6ea42663cafda618">00265</a> <span class="preprocessor">#define SDMMC_CMD_CDATATX(R)    ( SDMMC_CMD_bmCOMMAND \</span>
<a name="l00266"></a>00266 <span class="preprocessor">                                | SDMMC_CMD_bmDATATX \</span>
<a name="l00267"></a>00267 <span class="preprocessor">                                | SDMMC_CMD_bmRESP(R) )</span>
<a name="l00268"></a>00268 <span class="preprocessor"></span><span class="comment">/** Cmd: Send Stop command */</span>
<a name="l00269"></a><a class="code" href="group__sdmmc__cmd__op.html#ga4246436f403bbce9a11386297e87f452">00269</a> <span class="preprocessor">#define SDMMC_CMD_CSTOP         ( SDMMC_CMD_bmCOMMAND \</span>
<a name="l00270"></a>00270 <span class="preprocessor">                                | SDMMC_CMD_bmSTOPXFR \</span>
<a name="l00271"></a>00271 <span class="preprocessor">                                | SDMMC_CMD_bmRESP(1) )</span>
<a name="l00272"></a>00272 <span class="preprocessor"></span><span class="comment">/** Cmd: Send Stop token for SPI */</span>
<a name="l00273"></a><a class="code" href="group__sdmmc__cmd__op.html#ga34a7e8753c525328cadf06b4b3724bd9">00273</a> <span class="preprocessor">#define SDMMC_CMD_STOPTOKEN     (SDMMC_CMD_bmSTOPXFR)</span>
<a name="l00274"></a>00274 <span class="preprocessor"></span><span class="comment">/**     @}*/</span>
<a name="l00275"></a>00275 <span class="comment"></span>
<a name="l00276"></a>00276 <span class="comment">/** Default block size for SD/MMC access */</span>
<a name="l00277"></a><a class="code" href="group__sdmmc__cmd__defines.html#ga02a20e1220e3a4fa2d9ea31454a3670c">00277</a> <span class="preprocessor">#define SDMMC_BLOCK_SIZE        512</span>
<a name="l00278"></a>00278 <span class="preprocessor"></span><span class="comment"></span>
<a name="l00279"></a>00279 <span class="comment">/** @}*/</span>
<a name="l00280"></a>00280 <span class="comment">/*------------------------------------------------------------------------------</span>
<a name="l00281"></a>00281 <span class="comment"> *      Types</span>
<a name="l00282"></a>00282 <span class="comment"> *----------------------------------------------------------------------------*/</span><span class="comment"></span>
<a name="l00283"></a>00283 <span class="comment">/** \addtogroup sdmmc_cmd_types SD/MMC General Types</span>
<a name="l00284"></a>00284 <span class="comment">    @{*/</span>
<a name="l00285"></a>00285 <span class="comment"></span>
<a name="l00286"></a>00286 <span class="comment">/** SD/MMC end-of-command callback function. */</span>
<a name="l00287"></a><a class="code" href="group__sdmmc__cmd__types.html#ga0e968531cb6a6d60c90e9469de8826f1">00287</a> <span class="keyword">typedef</span> void (*<a class="code" href="group__sdmmc__cmd__types.html#ga0e968531cb6a6d60c90e9469de8826f1">fSdmmcCallback</a>)(uint32_t status, <span class="keywordtype">void</span> *pArg);
<a name="l00288"></a>00288 <span class="comment"></span>
<a name="l00289"></a>00289 <span class="comment">/**</span>
<a name="l00290"></a>00290 <span class="comment"> * Sdmmc command operation settings union.</span>
<a name="l00291"></a>00291 <span class="comment"> */</span>
<a name="l00292"></a><a class="code" href="unionu_sdmmc_cmd_op.html">00292</a> <span class="keyword">typedef</span> <span class="keyword">union </span>_SdmmcCmdOperation {
<a name="l00293"></a>00293     uint16_t wVal;
<a name="l00294"></a><a class="code" href="structu_sdmmc_cmd_op_1_1___sdmmc_op_bm.html">00294</a>     <span class="keyword">struct </span><a class="code" href="structu_sdmmc_cmd_op_1_1___sdmmc_op_bm.html">_SdmmcOpBm</a> {
<a name="l00295"></a><a class="code" href="structu_sdmmc_cmd_op_1_1___sdmmc_op_bm.html#a125fe68e48edd013227081fc0af0c36b">00295</a>         uint16_t powerON:1, <span class="comment">/**&lt; Do power on initialize */</span>
<a name="l00296"></a>00296                  sendCmd:1, <span class="comment">/**&lt; Send SD/MMC command */</span>
<a name="l00297"></a>00297                  xfrData:2, <span class="comment">/**&lt; Send/Stop data transfer */</span>
<a name="l00298"></a>00298                  respType:3,<span class="comment">/**&lt; Response type (1~7) */</span>
<a name="l00299"></a>00299                  crcON:1,   <span class="comment">/**&lt; CRC is used (SPI) */</span>
<a name="l00300"></a>00300                  odON:1,    <span class="comment">/**&lt; Open-Drain is ON (MMC) */</span>
<a name="l00301"></a>00301                  ioCmd:1,   <span class="comment">/**&lt; SDIO command */</span>
<a name="l00302"></a>00302                  checkBsy:1;<span class="comment">/**&lt; Busy check is ON */</span>
<a name="l00303"></a>00303     } bmBits;
<a name="l00304"></a>00304 } <a class="code" href="unionu_sdmmc_cmd_op.html">uSdmmcCmdOp</a>;
<a name="l00305"></a>00305 <span class="comment"></span>
<a name="l00306"></a>00306 <span class="comment">/**</span>
<a name="l00307"></a>00307 <span class="comment"> * Sdmmc command instance.</span>
<a name="l00308"></a>00308 <span class="comment"> */</span>
<a name="l00309"></a><a class="code" href="structs_sdmmc_command.html">00309</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>_SdmmcCommand {
<a name="l00310"></a>00310 <span class="comment"></span>
<a name="l00311"></a>00311 <span class="comment">    /** Optional user-provided callback function. */</span>
<a name="l00312"></a><a class="code" href="structs_sdmmc_command.html#abeb62039643649f0482e5f4bd380aa5b">00312</a>     <a class="code" href="group__sdmmc__cmd__types.html#ga0e968531cb6a6d60c90e9469de8826f1">fSdmmcCallback</a>  fCallback;<span class="comment"></span>
<a name="l00313"></a>00313 <span class="comment">    /** Optional argument to the callback function. */</span>
<a name="l00314"></a><a class="code" href="structs_sdmmc_command.html#a2f14adf3fed44ae0f898cff8a7d89aa7">00314</a>     <span class="keywordtype">void</span>            *pArg;
<a name="l00315"></a>00315 <span class="comment"></span>
<a name="l00316"></a>00316 <span class="comment">    /** Data buffer, with MCI_DMA_ENABLE defined 1, the buffer can be</span>
<a name="l00317"></a>00317 <span class="comment">     * 1, 2 or 4 bytes aligned. It has to be 4 byte aligned if no DMA.</span>
<a name="l00318"></a>00318 <span class="comment">     */</span>
<a name="l00319"></a><a class="code" href="structs_sdmmc_command.html#af4475ca3a7a1fbd120f8e1635c07fdcd">00319</a>     uint8_t     *pData;<span class="comment"></span>
<a name="l00320"></a>00320 <span class="comment">    /** Size of data block in bytes. */</span>
<a name="l00321"></a><a class="code" href="structs_sdmmc_command.html#a3b6d8109ea72b72cb1ebf7427fe7b310">00321</a>     uint16_t    wBlockSize;<span class="comment"></span>
<a name="l00322"></a>00322 <span class="comment">    /** Number of blocks to be transfered */</span>
<a name="l00323"></a><a class="code" href="structs_sdmmc_command.html#ac951c65d73d9e052a05cb353c4004721">00323</a>     uint16_t    wNbBlocks;<span class="comment"></span>
<a name="l00324"></a>00324 <span class="comment">    /** Response buffer. */</span>
<a name="l00325"></a><a class="code" href="structs_sdmmc_command.html#acd20aeaf8c2944b499b7952304d3b84c">00325</a>     uint32_t    *pResp;
<a name="l00326"></a>00326 <span class="comment"></span>
<a name="l00327"></a>00327 <span class="comment">    /** Command argument. */</span>
<a name="l00328"></a><a class="code" href="structs_sdmmc_command.html#ac70faeb8d807f25e7db8933b18314d13">00328</a>     uint32_t    dwArg;<span class="comment"></span>
<a name="l00329"></a>00329 <span class="comment">    /** Command operation settings */</span>
<a name="l00330"></a><a class="code" href="structs_sdmmc_command.html#a1684611f768c0b81c1194155e50b5f09">00330</a>     <a class="code" href="unionu_sdmmc_cmd_op.html">uSdmmcCmdOp</a> cmdOp;<span class="comment"></span>
<a name="l00331"></a>00331 <span class="comment">    /** Command index */</span>
<a name="l00332"></a><a class="code" href="structs_sdmmc_command.html#abe82de8dcc507f3f8de777ea6a2f392f">00332</a>     uint8_t     bCmd;<span class="comment"></span>
<a name="l00333"></a>00333 <span class="comment">    /** Command return status */</span>
<a name="l00334"></a><a class="code" href="structs_sdmmc_command.html#aaf9241225f75ddfad39d1652695e7d6f">00334</a>     uint8_t     <a class="code" href="cciddriver_8h.html#ac87a621b6b29f2322c10bf0e0ee7e471">bStatus</a>;
<a name="l00335"></a>00335 } <a class="code" href="structs_sdmmc_command.html">sSdmmcCommand</a>;
<a name="l00336"></a>00336 <span class="comment"></span>
<a name="l00337"></a>00337 <span class="comment">/**</span>
<a name="l00338"></a>00338 <span class="comment"> * \ingroup sdmmc_hal_def</span>
<a name="l00339"></a>00339 <span class="comment"> * SD/MMC Lock device function type */</span>
<a name="l00340"></a><a class="code" href="group__sdmmc__hal__def.html#ga8002ec165299a7d2e53db2cdc6be21dc">00340</a> <span class="keyword">typedef</span> uint32_t (*<a class="code" href="group__sdmmc__hal__def.html#ga8002ec165299a7d2e53db2cdc6be21dc">fSdmmcLock</a>)(<span class="keywordtype">void</span>* pDrv, uint8_t <a class="code" href="cciddriver_8h.html#ac45819be33e5342f51430d69f2d7d474">bSlot</a>);<span class="comment"></span>
<a name="l00341"></a>00341 <span class="comment">/**</span>
<a name="l00342"></a>00342 <span class="comment"> * \ingroup sdmmc_hal_def</span>
<a name="l00343"></a>00343 <span class="comment"> * SD/MMC Release device function type */</span>
<a name="l00344"></a><a class="code" href="group__sdmmc__hal__def.html#gab6962c4a37047d396b50d7268fa9c692">00344</a> <span class="keyword">typedef</span> uint32_t (*<a class="code" href="group__sdmmc__hal__def.html#gab6962c4a37047d396b50d7268fa9c692">fSdmmcRelease</a>)(<span class="keywordtype">void</span>* pDrv);<span class="comment"></span>
<a name="l00345"></a>00345 <span class="comment">/**</span>
<a name="l00346"></a>00346 <span class="comment"> * \ingroup sdmmc_hal_def</span>
<a name="l00347"></a>00347 <span class="comment"> * SD/MMC Send Command function type */</span>
<a name="l00348"></a><a class="code" href="group__sdmmc__hal__def.html#gaf421b08b97882f5416fd4ae0f30ad9ae">00348</a> <span class="keyword">typedef</span> uint32_t (*<a class="code" href="group__sdmmc__hal__def.html#gaf421b08b97882f5416fd4ae0f30ad9ae">fSdmmcSendCommand</a>)(<span class="keywordtype">void</span>* pDrv, <a class="code" href="structs_sdmmc_command.html">sSdmmcCommand</a> *pCmd);<span class="comment"></span>
<a name="l00349"></a>00349 <span class="comment">/**</span>
<a name="l00350"></a>00350 <span class="comment"> * \ingroup sdmmc_hal_def</span>
<a name="l00351"></a>00351 <span class="comment"> * SD/MMC IO Control function type */</span>
<a name="l00352"></a><a class="code" href="group__sdmmc__hal__def.html#ga7185307199809cd9aad40eff26607989">00352</a> <span class="keyword">typedef</span> uint32_t (*<a class="code" href="group__sdmmc__hal__def.html#ga7185307199809cd9aad40eff26607989">fSdmmcIOCtrl</a>)(<span class="keywordtype">void</span>* pDrv, uint32_t dwCtrl, uint32_t param);
<a name="l00353"></a>00353 <span class="comment"></span>
<a name="l00354"></a>00354 <span class="comment">/**</span>
<a name="l00355"></a>00355 <span class="comment"> * \ingroup sdmmc_hal_def</span>
<a name="l00356"></a>00356 <span class="comment"> * \brief SD/MMC card HAL functions.</span>
<a name="l00357"></a>00357 <span class="comment"> */</span>
<a name="l00358"></a><a class="code" href="structs_sd_hal_functions.html">00358</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>_SdHalFunctions {
<a name="l00359"></a>00359     
<a name="l00360"></a><a class="code" href="structs_sd_hal_functions.html#a5a2f4bbd7c5cf9eb496a395400a80311">00360</a>     <a class="code" href="group__sdmmc__hal__def.html#ga8002ec165299a7d2e53db2cdc6be21dc">fSdmmcLock</a> fLock;           <span class="comment">/**&lt; Pointer to lock funtion */</span>
<a name="l00361"></a><a class="code" href="structs_sd_hal_functions.html#a9953ae1e6e855566d68fa61ab2e0a894">00361</a>     <a class="code" href="group__sdmmc__hal__def.html#gab6962c4a37047d396b50d7268fa9c692">fSdmmcRelease</a> fRelease;     <span class="comment">/**&lt; Pointer to release function */</span>
<a name="l00362"></a><a class="code" href="structs_sd_hal_functions.html#a8f9d6e5c2f6762fa543fa5ba5648cdd3">00362</a>     <a class="code" href="group__sdmmc__hal__def.html#gaf421b08b97882f5416fd4ae0f30ad9ae">fSdmmcSendCommand</a> fCommand; <span class="comment">/**&lt; Pointer to command function */</span>
<a name="l00363"></a><a class="code" href="structs_sd_hal_functions.html#aaca301f6ffceb0e1d06d08bc803edb4b">00363</a>     <a class="code" href="group__sdmmc__hal__def.html#ga7185307199809cd9aad40eff26607989">fSdmmcIOCtrl</a> fIOCtrl;       <span class="comment">/**&lt; Pointer to IO control function */</span>
<a name="l00364"></a>00364 } <a class="code" href="structs_sd_hal_functions.html" title="SD/MMC card HAL functions.">sSdHalFunctions</a>;
<a name="l00365"></a>00365 <span class="comment"></span>
<a name="l00366"></a>00366 <span class="comment">/**</span>
<a name="l00367"></a>00367 <span class="comment"> * \brief SD/MMC card driver structure.</span>
<a name="l00368"></a>00368 <span class="comment"> * It holds the current command being processed and the SD/MMC card address.</span>
<a name="l00369"></a>00369 <span class="comment"> */</span>
<a name="l00370"></a><a class="code" href="structs_sd_card.html">00370</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>_SdCard
<a name="l00371"></a>00371 {
<a name="l00372"></a><a class="code" href="structs_sd_card.html#a8a8eac5b560c8c7aed6964e3ee6946e4">00372</a>     <span class="keywordtype">void</span> *pDrv;             <span class="comment">/**&lt; Pointer to unnderlying driver */</span>
<a name="l00373"></a><a class="code" href="structs_sd_card.html#a1a6abb7bd4fc6a961d4f8405b9255388">00373</a>     <a class="code" href="structs_sd_hal_functions.html" title="SD/MMC card HAL functions.">sSdHalFunctions</a> *pHalf; <span class="comment">/**&lt; Pointer to underlying functions */</span>
<a name="l00374"></a><a class="code" href="structs_sd_card.html#ad1988d9a49a2dbca3a7ee0d5ab30d8f2">00374</a>     <span class="keywordtype">void</span> *pExt;             <span class="comment">/**&lt; Pointer to extension data for SD/MMC/SDIO */</span>
<a name="l00375"></a>00375 
<a name="l00376"></a><a class="code" href="structs_sd_card.html#ad18fadd4aab24e17f3bccccc9c6d5563">00376</a>     <a class="code" href="structs_sdmmc_command.html">sSdmmcCommand</a> sdCmd;    <span class="comment">/**&lt; Command instance for underlying driver */</span>
<a name="l00377"></a>00377 
<a name="l00378"></a><a class="code" href="structs_sd_card.html#a0269c827d41e645c96441f0e94125fb2">00378</a>     uint32_t CID[128/8/4];  <span class="comment">/**&lt; Card Identification (CID register) */</span>
<a name="l00379"></a><a class="code" href="structs_sd_card.html#af813afbf71a842a9b40a3ce2446e1c86">00379</a>     uint32_t CSD[128/8/4];  <span class="comment">/**&lt; Card-specific data (CSD register) */</span>
<a name="l00380"></a><a class="code" href="structs_sd_card.html#a190d2a9614159d6b1e3dc79f66ba502c">00380</a>     uint32_t EXT[512/4];    <span class="comment">/**&lt; Extended information */</span>
<a name="l00381"></a>00381 
<a name="l00382"></a><a class="code" href="structs_sd_card.html#aee6df27bd64439f016d0a6b648510d55">00382</a>     uint32_t dwTranSpeed;   <span class="comment">/**&lt; Max supported transfer speed */</span>
<a name="l00383"></a><a class="code" href="structs_sd_card.html#ac34e83c3c41231669be3bfd67551ef77">00383</a>     uint32_t dwTotalSize;   <span class="comment">/**&lt; Card total size</span>
<a name="l00384"></a>00384 <span class="comment">                                (0xffffffff to see number of blocks */</span>
<a name="l00385"></a><a class="code" href="structs_sd_card.html#a6516662e06f390775d52c67016382429">00385</a>     uint32_t dwNbBlocks;    <span class="comment">/**&lt; Card total number of blocks */</span>
<a name="l00386"></a><a class="code" href="structs_sd_card.html#a027df5e193f9b528919544e812cd106c">00386</a>     uint16_t wBlockSize;    <span class="comment">/**&lt; Card block size reported */</span>
<a name="l00387"></a>00387 
<a name="l00388"></a><a class="code" href="structs_sd_card.html#ad08fad9bafa9c038e388af75b836ebee">00388</a>     uint16_t wCurrBlockLen; <span class="comment">/**&lt; Block length used */</span>
<a name="l00389"></a><a class="code" href="structs_sd_card.html#a754ade80086a26c045dd027778bd2fc2">00389</a>     uint32_t dwCurrSpeed;   <span class="comment">/**&lt; Transfer speed used */</span>
<a name="l00390"></a><a class="code" href="structs_sd_card.html#a1783b7e00de9a432c632eed6499ad680">00390</a>     uint32_t dwPrevBlk;     <span class="comment">/**&lt; Previous accessed block for memory */</span>
<a name="l00391"></a><a class="code" href="structs_sd_card.html#a07a4e7f73c281305380eb02f25b13c78">00391</a>     uint16_t wAddress;      <span class="comment">/**&lt; Current card address */</span>
<a name="l00392"></a><a class="code" href="structs_sd_card.html#a2590354848c842cec57b7d0d83377430">00392</a>     uint8_t  bCardType;     <span class="comment">/**&lt; SD/MMC/SDIO card type \sa sdmmc_cardtype */</span>
<a name="l00393"></a><a class="code" href="structs_sd_card.html#ad2f67ba0b37431458365c427610f9cad">00393</a>     uint8_t  bBusMode;      <span class="comment">/**&lt; 1/4/8 bit bus mode */</span>
<a name="l00394"></a><a class="code" href="structs_sd_card.html#acceb98742747eb88ac1d5ab0945fcf3a">00394</a>     uint8_t  <a class="code" href="cciddriver_8h.html#ac45819be33e5342f51430d69f2d7d474">bSlot</a>;         <span class="comment">/**&lt; Card access slot */</span>
<a name="l00395"></a><a class="code" href="structs_sd_card.html#aa65b841f898d42e0f815557ec9d4d643">00395</a>     uint8_t  bState;        <span class="comment">/**&lt; Card state */</span>
<a name="l00396"></a><a class="code" href="structs_sd_card.html#a003f334870ab95adea0577f29258a4d8">00396</a>     uint8_t  <a class="code" href="cciddriver_8h.html#ac87a621b6b29f2322c10bf0e0ee7e471">bStatus</a>;       <span class="comment">/**&lt; Card status */</span>
<a name="l00397"></a>00397     uint8_t  reserve;
<a name="l00398"></a>00398 } <a class="code" href="structs_sd_card.html" title="SD/MMC card driver structure. It holds the current command being processed and the SD/MMC card addres...">sSdCard</a>;
<a name="l00399"></a>00399 
<a name="l00400"></a>00400 <span class="comment"></span>
<a name="l00401"></a>00401 <span class="comment">/** \addtogroup sdmmc_struct_cmdarg SD/MMC command arguments</span>
<a name="l00402"></a>00402 <span class="comment"> *  Here lists the command arguments for SD/MMC.</span>
<a name="l00403"></a>00403 <span class="comment"> *  - CMD6 Argument</span>
<a name="l00404"></a>00404 <span class="comment"> *    - \ref _MmcCmd6Arg &quot;MMC CMD6&quot;</span>
<a name="l00405"></a>00405 <span class="comment"> *    - \ref _SdCmd6Arg  &quot;SD CMD6&quot;</span>
<a name="l00406"></a>00406 <span class="comment"> *  - \ref _SdioCmd52Arg CMD52</span>
<a name="l00407"></a>00407 <span class="comment"> *  - \ref _SdioCmd53Arg CMD53</span>
<a name="l00408"></a>00408 <span class="comment"> *      @{*/</span><span class="comment"></span>
<a name="l00409"></a>00409 <span class="comment">/**</span>
<a name="l00410"></a>00410 <span class="comment"> * \typedef MmcCmd6Arg</span>
<a name="l00411"></a>00411 <span class="comment"> * Argument for MMC CMD6</span>
<a name="l00412"></a>00412 <span class="comment"> */</span>
<a name="l00413"></a><a class="code" href="struct_mmc_switch_arg.html">00413</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>_MmcCmd6Arg
<a name="l00414"></a>00414 {
<a name="l00415"></a>00415     uint8_t access;
<a name="l00416"></a>00416     uint8_t index;
<a name="l00417"></a>00417     uint8_t value;
<a name="l00418"></a>00418     uint8_t cmdSet;
<a name="l00419"></a>00419 } MmcCmd6Arg, <a class="code" href="struct_mmc_switch_arg.html">MmcSwitchArg</a>;
<a name="l00420"></a>00420 <span class="comment"></span>
<a name="l00421"></a>00421 <span class="comment">/**</span>
<a name="l00422"></a>00422 <span class="comment"> * \typedef SdCmd6Arg</span>
<a name="l00423"></a>00423 <span class="comment"> * Argument for SD CMD6</span>
<a name="l00424"></a>00424 <span class="comment"> */</span>
<a name="l00425"></a><a class="code" href="struct_sd_switch_arg.html">00425</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>_SdCmd6Arg
<a name="l00426"></a>00426 {
<a name="l00427"></a><a class="code" href="struct_sd_switch_arg.html#a9230c193c7046acaf8772519e449b320">00427</a>     uint32_t accessMode:4,  <span class="comment">/**&lt; [ 3: 0] function group 1, access mode */</span>
<a name="l00428"></a>00428              command:4,     <span class="comment">/**&lt; [ 7: 4] function group 2, command system */</span>
<a name="l00429"></a>00429              reserveFG3:4,  <span class="comment">/**&lt; [11: 8] function group 3, 0xF or 0x0 */</span>
<a name="l00430"></a>00430              reserveFG4:4,  <span class="comment">/**&lt; [15:12] function group 4, 0xF or 0x0 */</span>
<a name="l00431"></a>00431              reserveFG5:4,  <span class="comment">/**&lt; [19:16] function group 5, 0xF or 0x0 */</span>
<a name="l00432"></a>00432              reserveFG6:4,  <span class="comment">/**&lt; [23:20] function group 6, 0xF or 0x0 */</span>
<a name="l00433"></a>00433              <a class="code" href="_c_d_c_notifications_8h.html#a5a6ed8c04a3db86066924b1a1bf4dad3">reserved</a>:7,    <span class="comment">/**&lt; [30:24] reserved 0 */</span>
<a name="l00434"></a>00434              mode:1;        <span class="comment">/**&lt; [31   ] Mode, 0: Check, 1: Switch */</span>
<a name="l00435"></a>00435 } SdCmd6Arg, <a class="code" href="struct_sd_switch_arg.html">SdSwitchArg</a>;
<a name="l00436"></a>00436 <span class="comment"></span>
<a name="l00437"></a>00437 <span class="comment">/**</span>
<a name="l00438"></a>00438 <span class="comment"> * \typedef SdioCmd52Arg</span>
<a name="l00439"></a>00439 <span class="comment"> * Argument for SDIO CMD52</span>
<a name="l00440"></a>00440 <span class="comment"> */</span>
<a name="l00441"></a><a class="code" href="struct_sdio_rw_direct_arg.html">00441</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>_SdioCmd52Arg
<a name="l00442"></a>00442 {
<a name="l00443"></a><a class="code" href="struct_sdio_rw_direct_arg.html#ab4913004977460d5beb0d314600471fe">00443</a>     uint32_t <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a>:8,        <span class="comment">/**&lt; [ 7: 0] data for writing */</span>
<a name="l00444"></a>00444              stuff0:1,      <span class="comment">/**&lt; [    8] reserved */</span>
<a name="l00445"></a>00445              regAddress:17, <span class="comment">/**&lt; [25: 9] register address */</span>
<a name="l00446"></a>00446              stuff1:1,      <span class="comment">/**&lt; [   26] reserved */</span>
<a name="l00447"></a>00447              rawFlag:1,     <span class="comment">/**&lt; [   27] Read after Write flag */</span>
<a name="l00448"></a>00448              functionNum:3, <span class="comment">/**&lt; [30:28] Number of the function */</span>
<a name="l00449"></a>00449              rwFlag:1;      <span class="comment">/**&lt; [   31] Direction, 1:write, 0:read. */</span>
<a name="l00450"></a>00450 } SdioCmd52Arg, <a class="code" href="struct_sdio_rw_direct_arg.html">SdioRwDirectArg</a>;<span class="comment"></span>
<a name="l00451"></a>00451 <span class="comment">/**</span>
<a name="l00452"></a>00452 <span class="comment"> * \typedef SdioCmd53Arg</span>
<a name="l00453"></a>00453 <span class="comment"> * Argument for SDIO CMD53</span>
<a name="l00454"></a>00454 <span class="comment"> */</span>
<a name="l00455"></a><a class="code" href="struct_sdio_rw_ext_arg.html">00455</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>_SdioCmd53Arg {
<a name="l00456"></a>00456     uint32_t count:9,       <span class="comment">/**&lt; [ 8: 0] Byte mode: number of bytes to transfer,</span>
<a name="l00457"></a>00457 <span class="comment">                                                   0 cause 512 bytes transfer.</span>
<a name="l00458"></a>00458 <span class="comment">                                         Block mode: number of blocks to transfer,</span>
<a name="l00459"></a><a class="code" href="struct_sdio_rw_ext_arg.html#a7e7fce1a95f5e202c76b03a663e4377f">00459</a> <span class="comment">                                                    0 set count to infinite. */</span>
<a name="l00460"></a>00460              regAddress:17, <span class="comment">/**&lt; [25: 9] Start Address I/O register */</span>
<a name="l00461"></a>00461              opCode:1,      <span class="comment">/**&lt; [   26] 1:Incrementing address, 0: fixed */</span>
<a name="l00462"></a>00462              blockMode:1,   <span class="comment">/**&lt; [   27] (Optional) 1:block mode */</span>
<a name="l00463"></a>00463              functionNum:3, <span class="comment">/**&lt; [30:28] Number of the function */</span>
<a name="l00464"></a>00464              rwFlag:1;      <span class="comment">/**&lt; [   31] Direction, 1:WR, 0:RD */</span>
<a name="l00465"></a>00465 } SdioCmd53Arg, <a class="code" href="struct_sdio_rw_ext_arg.html">SdioRwExtArg</a>;<span class="comment"></span>
<a name="l00466"></a>00466 <span class="comment">/**     @}*/</span>
<a name="l00467"></a>00467 
<a name="l00468"></a>00468 <span class="comment"></span>
<a name="l00469"></a>00469 <span class="comment">/** \addtogroup sdmmc_resp_struct SD/MMC Responses Structs</span>
<a name="l00470"></a>00470 <span class="comment"> *  Here lists the command responses for SD/MMC.</span>
<a name="l00471"></a>00471 <span class="comment"> *  - \ref _SdmmcR1 &quot;R1&quot;</span>
<a name="l00472"></a>00472 <span class="comment"> *  - \ref _SdmmcR3 &quot;R3&quot;</span>
<a name="l00473"></a>00473 <span class="comment"> *  - \ref _MmcR4 &quot;MMC R4&quot;, \ref _SdioR4 &quot;SDIO R4&quot;</span>
<a name="l00474"></a>00474 <span class="comment"> *  - \ref _SdmmcR5 &quot;R5&quot;</span>
<a name="l00475"></a>00475 <span class="comment"> *  - \ref _SdR6 &quot;R6&quot;</span>
<a name="l00476"></a>00476 <span class="comment"> *  - \ref _SdR7 &quot;R7&quot;</span>
<a name="l00477"></a>00477 <span class="comment"> *      @{*/</span><span class="comment"></span>
<a name="l00478"></a>00478 <span class="comment">/**</span>
<a name="l00479"></a>00479 <span class="comment"> * Response R1 (normal response command)</span>
<a name="l00480"></a>00480 <span class="comment"> */</span>
<a name="l00481"></a><a class="code" href="struct_sdmmc_r1b.html">00481</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>_SdmmcR1
<a name="l00482"></a>00482 {
<a name="l00483"></a><a class="code" href="struct_sdmmc_r1b.html#a6eef256ff2b085d830e7d1aef33526f6">00483</a>     uint32_t cardStatus;    <span class="comment">/**&lt; [32: 0] Response card status flags */</span>
<a name="l00484"></a>00484 } SdmmcR1, <a class="code" href="struct_sdmmc_r1b.html">SdmmcR1b</a>;
<a name="l00485"></a>00485 <span class="comment"></span>
<a name="l00486"></a>00486 <span class="comment">/**</span>
<a name="l00487"></a>00487 <span class="comment"> * Response R3 (OCR)</span>
<a name="l00488"></a>00488 <span class="comment"> */</span>
<a name="l00489"></a><a class="code" href="struct_sdmmc_r3.html">00489</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>_SdmmcR3
<a name="l00490"></a>00490 {
<a name="l00491"></a><a class="code" href="struct_sdmmc_r3.html#aaacf8e886737f2c008900eb1b20a84fa">00491</a>     uint32_t OCR;           <span class="comment">/**&lt; [32: 0] OCR register */</span>
<a name="l00492"></a>00492 } <a class="code" href="struct_sdmmc_r3.html">SdmmcR3</a>;
<a name="l00493"></a>00493 <span class="comment"></span>
<a name="l00494"></a>00494 <span class="comment">/**</span>
<a name="l00495"></a>00495 <span class="comment"> * Response R4 (MMC Fast I/O CMD39)</span>
<a name="l00496"></a>00496 <span class="comment"> */</span>
<a name="l00497"></a><a class="code" href="struct_mmc_r4.html">00497</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>_MmcR4
<a name="l00498"></a>00498 {
<a name="l00499"></a><a class="code" href="struct_mmc_r4.html#a717ee65713a11ad395b0d035b29f94b2">00499</a>     uint32_t regData:8,     <span class="comment">/**&lt; [ 7: 0] Read register contents */</span>
<a name="l00500"></a>00500              regAddr:7,     <span class="comment">/**&lt; [14: 8] Register address */</span>
<a name="l00501"></a>00501              status:1,      <span class="comment">/**&lt; [   15] Status */</span>
<a name="l00502"></a>00502              RCA:16;        <span class="comment">/**&lt; [31:16] RCA */</span>
<a name="l00503"></a>00503 } <a class="code" href="struct_mmc_r4.html">MmcR4</a>;
<a name="l00504"></a>00504 <span class="comment"></span>
<a name="l00505"></a>00505 <span class="comment">/**</span>
<a name="l00506"></a>00506 <span class="comment"> * Response R4 (SDIO), no CRC.</span>
<a name="l00507"></a>00507 <span class="comment"> */</span>
<a name="l00508"></a><a class="code" href="struct_sdio_r4.html">00508</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>_SdioR4
<a name="l00509"></a>00509 {
<a name="l00510"></a><a class="code" href="struct_sdio_r4.html#a1bd128b17f2aa387c954efd583ae24ca">00510</a>     uint32_t OCR:24,            <span class="comment">/**&lt; [23: 0]       Operation Conditions Register */</span>
<a name="l00511"></a>00511              <a class="code" href="_c_d_c_notifications_8h.html#a5a6ed8c04a3db86066924b1a1bf4dad3">reserved</a>:3,        <span class="comment">/**&lt; [26:24]       Reserved */</span>
<a name="l00512"></a>00512              memoryPresent:1,   <span class="comment">/**&lt; [   27] MP    Set to 1 if contains</span>
<a name="l00513"></a>00513 <span class="comment">                                                   SD memory */</span>
<a name="l00514"></a>00514              nbIoFunction:3,    <span class="comment">/**&lt; [30:28] NF    Total number of I/O functions</span>
<a name="l00515"></a>00515 <span class="comment">                                                   supported */</span>
<a name="l00516"></a>00516              C:1;               <span class="comment">/**&lt; [   31] IORDY Set to 1 if card is ready */</span>
<a name="l00517"></a>00517 } <a class="code" href="struct_sdio_r4.html">SdioR4</a>;
<a name="l00518"></a>00518 <span class="comment"></span>
<a name="l00519"></a>00519 <span class="comment">/**</span>
<a name="l00520"></a>00520 <span class="comment"> * Response R5 (MMC Interrupt request CMD40 / SDIO CMD52)</span>
<a name="l00521"></a>00521 <span class="comment"> */</span>
<a name="l00522"></a><a class="code" href="struct_sdmmc_r5.html">00522</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>_SdmmcR5
<a name="l00523"></a>00523 {
<a name="l00524"></a><a class="code" href="struct_sdmmc_r5.html#abc08fd844f07379dbc7e678d1d874bc1">00524</a>     uint32_t <a class="code" href="_c_d_c_d_serial_driver_8h.html#a8be237b72619ea84bbc9f5d314b2696c">data</a>:8,        <span class="comment">/**&lt; [ 7: 0] Response data */</span>
<a name="l00525"></a>00525              response:8,    <span class="comment">/**&lt; [15: 8] Response status flags */</span>
<a name="l00526"></a>00526              RCA:16;        <span class="comment">/**&lt; [31:16] (MMC) Winning card RCA */</span>
<a name="l00527"></a>00527 } <a class="code" href="struct_sdmmc_r5.html">SdmmcR5</a>;
<a name="l00528"></a>00528 <span class="comment"></span>
<a name="l00529"></a>00529 <span class="comment">/**</span>
<a name="l00530"></a>00530 <span class="comment"> * Response R6 (SD RCA)</span>
<a name="l00531"></a>00531 <span class="comment"> */</span>
<a name="l00532"></a><a class="code" href="struct_sd_r6.html">00532</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>_SdR6
<a name="l00533"></a>00533 {
<a name="l00534"></a><a class="code" href="struct_sd_r6.html#a0a53a541e738e1f636b7b6ddc19d04f5">00534</a>     uint32_t status:16,     <span class="comment">/**&lt; [15: 0] Response status */</span>
<a name="l00535"></a>00535              RCA:16;        <span class="comment">/**&lt; [31:16] New published RCA */</span>
<a name="l00536"></a>00536 } <a class="code" href="struct_sd_r6.html">SdR6</a>;<span class="comment"></span>
<a name="l00537"></a>00537 <span class="comment">/**</span>
<a name="l00538"></a>00538 <span class="comment"> * Response R7 (Card interface condition)</span>
<a name="l00539"></a>00539 <span class="comment"> */</span>
<a name="l00540"></a><a class="code" href="struct_sd_r7.html">00540</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>_SdR7 {
<a name="l00541"></a><a class="code" href="struct_sd_r7.html#a1ee208dbb38d0753fe64c98f7c5d0948">00541</a>     uint32_t checkPatten:8, <span class="comment">/**&lt; [ 7: 0] Echo-back of check pattern */</span>
<a name="l00542"></a>00542              voltage:4,     <span class="comment">/**&lt; [11: 8] Voltage accepted */</span>
<a name="l00543"></a>00543              <a class="code" href="_c_d_c_notifications_8h.html#a5a6ed8c04a3db86066924b1a1bf4dad3">reserved</a>:20;   <span class="comment">/**&lt; [31:12] reserved bits */</span>
<a name="l00544"></a>00544 } <a class="code" href="struct_sd_r7.html">SdR7</a>;
<a name="l00545"></a>00545 <span class="comment"></span>
<a name="l00546"></a>00546 <span class="comment">/**     @}*/</span>
<a name="l00547"></a>00547 <span class="comment"></span>
<a name="l00548"></a>00548 <span class="comment">/** @}*/</span>
<a name="l00549"></a>00549 <span class="comment">/*----------------------------------------------------------------------------</span>
<a name="l00550"></a>00550 <span class="comment"> *         Exported functions</span>
<a name="l00551"></a>00551 <span class="comment"> *----------------------------------------------------------------------------*/</span>
<a name="l00552"></a>00552 <span class="comment"></span>
<a name="l00553"></a>00553 <span class="comment">/**@}*/</span>
<a name="l00554"></a>00554 <span class="preprocessor">#endif </span><span class="comment">/* #define _SDMMC_CMD_H */</span>
<a name="l00555"></a>00555 
</pre></div></div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
