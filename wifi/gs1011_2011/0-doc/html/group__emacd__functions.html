<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SAM9X25 Software Package: EMAC Driver Functions</title>
<link href="common/style.css" rel="stylesheet" type="text/css"/>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
    <div id="body">
        <div id="title">ATSAM9X25 Software Package 1.0</div>
        <div id="banner"></div>

<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>EMAC Driver Functions<br/>
<small>
[<a class="el" href="group__emacd__module.html">EMAC Driver</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p><div class="dynheader">
Collaboration diagram for EMAC Driver Functions:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__emacd__functions.gif" border="0" alt="" usemap="#group____emacd____functions"/>
<map name="group____emacd____functions" id="group____emacd____functions">
<area shape="rect" id="node1" href="group__emacd__module.html" title="EMAC Driver" alt="" coords="5,5,101,35"/></map>
</td></tr></table></center>
</div>
</p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emacd__functions.html#ga4a0a2fcb1542bfdd38eb9de49b1e5198">EMACD_Init</a> (<a class="el" href="structs_emacd.html">sEmacd</a> *pEmacd, <a class="el" href="struct_emac.html">Emac</a> *pHw, uint8_t bID, uint8_t bCAF, uint8_t bNBC)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emacd__functions.html#ga4419d237b3b626e890c007d0d14257e5">EMACD_InitTransfer</a> (<a class="el" href="structs_emacd.html">sEmacd</a> *pEmacd, uint8_t *pRxBuffer, sEmacRxDescriptor *pRxD, uint16_t wRxSize, uint8_t *pTxBuffer, sEmacTxDescriptor *pTxD, <a class="el" href="group__emacd__types.html#gaf4bade60abbdf7894def0dff288bfb47">fEmacdTransferCallback</a> *pTxCb, uint16_t wTxSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emacd__functions.html#gaee9ef13c5746353b7a62dd0406f4c1be">EMACD_SetRxCallback</a> (<a class="el" href="structs_emacd.html">sEmacd</a> *pEmacd, <a class="el" href="group__emacd__types.html#gaf4bade60abbdf7894def0dff288bfb47">fEmacdTransferCallback</a> fRxCb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emacd__functions.html#ga1352c618c1a15c294d74e64b9c4e5358">EMACD_SetTxWakeupCallback</a> (<a class="el" href="structs_emacd.html">sEmacd</a> *pEmacd, <a class="el" href="group__emacd__types.html#ga66b7f24fea5dc59dfc79fdda80c344b3">fEmacdWakeupCallback</a> fWakeup, uint8_t bThreshold)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emacd__functions.html#ga0cc625be4b29e347f6ecc73408b1d5f7">EMACD_Handler</a> (<a class="el" href="structs_emacd.html">sEmacd</a> *pEmacd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emacd__functions.html#ga9aacd78fd6b5109f73f80f56491ced38">EMACD_Reset</a> (<a class="el" href="structs_emacd.html">sEmacd</a> *pEmacd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emacd__functions.html#ga2664a956e2a50befdd5f6557ec7db2af">EMACD_Send</a> (<a class="el" href="structs_emacd.html">sEmacd</a> *pEmacd, void *<a class="el" href="usart__serial_2main_8c.html#aabcf6e8b1303ef001b5da6bdead0efc6">pBuffer</a>, uint32_t <a class="el" href="bmp_8h.html#ab2c6b258f02add8fdf4cfc7c371dd772">size</a>, <a class="el" href="group__emacd__types.html#gaf4bade60abbdf7894def0dff288bfb47">fEmacdTransferCallback</a> fTxCallback)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emacd__functions.html#gab0c431a973b8030856013f9664de0424">EMACD_TxLoad</a> (<a class="el" href="structs_emacd.html">sEmacd</a> *pEmacd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__emacd__functions.html#gacc1bccf1fd00466f4fc5d9ccef01e08a">EMACD_Poll</a> (<a class="el" href="structs_emacd.html">sEmacd</a> *pEmacd, uint8_t *pFrame, uint32_t frameSize, uint32_t *pRcvSize)</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga0cc625be4b29e347f6ecc73408b1d5f7"></a><!-- doxytag: member="emacd.h::EMACD_Handler" ref="ga0cc625be4b29e347f6ecc73408b1d5f7" args="(sEmacd *pEmacd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EMACD_Handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs_emacd.html">sEmacd</a> *&nbsp;</td>
          <td class="paramname"> <em>pEmacd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>EMAC Interrupt handler </p>

<p>Definition at line <a class="el" href="emacd_8c_source.html#l00165">165</a> of file <a class="el" href="emacd_8c_source.html">emacd.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__emacd__functions_ga0cc625be4b29e347f6ecc73408b1d5f7_cgraph.gif" border="0" usemap="#group__emacd__functions_ga0cc625be4b29e347f6ecc73408b1d5f7_cgraph" alt=""/></div>
<map name="group__emacd__functions_ga0cc625be4b29e347f6ecc73408b1d5f7_cgraph" id="group__emacd__functions_ga0cc625be4b29e347f6ecc73408b1d5f7_cgraph">
<area shape="rect" id="node3" href="group__emac__functions.html#ga3adea991275988d4498c1c15d6fd4a74" title="EMAC_ClearRxStatus" alt="" coords="177,5,327,35"/><area shape="rect" id="node5" href="group__emac__functions.html#gad988ae33c497014530f40c5f8bc2b3f8" title="EMAC_ClearTxStatus" alt="" coords="177,59,327,88"/><area shape="rect" id="node7" href="group__emac__functions.html#gab5c0156c38ac97cb211f2f3bd09ee025" title="EMAC_GetItMask" alt="" coords="189,112,315,141"/><area shape="rect" id="node9" href="group__emac__functions.html#ga14c6be40616d2c5a0d0d457eada375d3" title="EMAC_GetItStatus" alt="" coords="185,165,319,195"/><area shape="rect" id="node11" href="group__emac__functions.html#ga98ca41c62c0f9e9beff7030652528740" title="EMAC_GetRxStatus" alt="" coords="181,219,323,248"/><area shape="rect" id="node13" href="group__emac__functions.html#ga875e432b341ac3c3ec17d3fca215af45" title="EMAC_GetTxStatus" alt="" coords="183,272,321,301"/><area shape="rect" id="node15" href="group__emac__functions.html#ga071a0eb74db73410b2a35fdecf5f6d73" title="EMAC_TransmitEnable" alt="" coords="173,325,331,355"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga4a0a2fcb1542bfdd38eb9de49b1e5198"></a><!-- doxytag: member="emacd.h::EMACD_Init" ref="ga4a0a2fcb1542bfdd38eb9de49b1e5198" args="(sEmacd *pEmacd, Emac *pHw, uint8_t bID, uint8_t bCAF, uint8_t bNBC)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EMACD_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs_emacd.html">sEmacd</a> *&nbsp;</td>
          <td class="paramname"> <em>pEmacd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_emac.html">Emac</a> *&nbsp;</td>
          <td class="paramname"> <em>pHw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>bID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>bCAF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>bNBC</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize the EMAC Driver with HW settings. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pEmacd</em>&nbsp;</td><td>Pointer to EMAC Driver instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pHw</em>&nbsp;</td><td>Pointer to HW address for registers. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bID</em>&nbsp;</td><td>HW ID for power management. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bCAF</em>&nbsp;</td><td>Enable/Disable CopyAllFrame. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bNBC</em>&nbsp;</td><td>Enable/Disable NoBroadCast. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="emacd_8c_source.html#l00309">309</a> of file <a class="el" href="emacd_8c_source.html">emacd.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__emacd__functions_ga4a0a2fcb1542bfdd38eb9de49b1e5198_cgraph.gif" border="0" usemap="#group__emacd__functions_ga4a0a2fcb1542bfdd38eb9de49b1e5198_cgraph" alt=""/></div>
<map name="group__emacd__functions_ga4a0a2fcb1542bfdd38eb9de49b1e5198_cgraph" id="group__emacd__functions_ga4a0a2fcb1542bfdd38eb9de49b1e5198_cgraph">
<area shape="rect" id="node3" href="group__emac__functions.html#gaa8e18171682eda0527c863ef62255f0c" title="EMAC_BroadcastDisable" alt="" coords="148,5,316,35"/><area shape="rect" id="node5" href="group__emac__functions.html#ga3adea991275988d4498c1c15d6fd4a74" title="EMAC_ClearRxStatus" alt="" coords="157,59,307,88"/><area shape="rect" id="node7" href="group__emac__functions.html#ga7a722443463abedfd0c55471e3cad024" title="EMAC_ClearStatistics" alt="" coords="156,112,308,141"/><area shape="rect" id="node9" href="group__emac__functions.html#gad988ae33c497014530f40c5f8bc2b3f8" title="EMAC_ClearTxStatus" alt="" coords="157,165,307,195"/><area shape="rect" id="node11" href="group__emac__functions.html#gacd16e287ebbe748cc6124d9fc6bba3a7" title="EMAC_Configure" alt="" coords="172,219,292,248"/><area shape="rect" id="node13" href="group__emac__functions.html#ga350cb620e1ad254103a84213cdc80b07" title="EMAC_CpyAllEnable" alt="" coords="160,272,304,301"/><area shape="rect" id="node15" href="group__emac__functions.html#gacc9eacec3c55de65cd1e467bbdf41ff1" title="EMAC_DisableIt" alt="" coords="173,325,291,355"/><area shape="rect" id="node17" href="group__emac__functions.html#ga311c189aa2750077c134245f2883889e" title="EMAC_GetConfigure" alt="" coords="161,379,303,408"/><area shape="rect" id="node19" href="group__emac__functions.html#ga14c6be40616d2c5a0d0d457eada375d3" title="EMAC_GetItStatus" alt="" coords="165,432,299,461"/><area shape="rect" id="node21" href="group__emac__functions.html#ga71bebe40effffcacf190b81395f683ce" title="EMAC_NetworkControl" alt="" coords="155,485,309,515"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga4419d237b3b626e890c007d0d14257e5"></a><!-- doxytag: member="emacd.h::EMACD_InitTransfer" ref="ga4419d237b3b626e890c007d0d14257e5" args="(sEmacd *pEmacd, uint8_t *pRxBuffer, sEmacRxDescriptor *pRxD, uint16_t wRxSize, uint8_t *pTxBuffer, sEmacTxDescriptor *pTxD, fEmacdTransferCallback *pTxCb, uint16_t wTxSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t EMACD_InitTransfer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs_emacd.html">sEmacd</a> *&nbsp;</td>
          <td class="paramname"> <em>pEmacd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>pRxBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sEmacRxDescriptor *&nbsp;</td>
          <td class="paramname"> <em>pRxD</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>wRxSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>pTxBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sEmacTxDescriptor *&nbsp;</td>
          <td class="paramname"> <em>pTxD</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__emacd__types.html#gaf4bade60abbdf7894def0dff288bfb47">fEmacdTransferCallback</a> *&nbsp;</td>
          <td class="paramname"> <em>pTxCb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>wTxSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize necessary allocated buffer lists for EMAC Driver to transfer data. Must be invoked after <a class="el" href="group__emacd__functions.html#ga4a0a2fcb1542bfdd38eb9de49b1e5198">EMACD_Init()</a> but before RX/TX start. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pEmacd</em>&nbsp;</td><td>Pointer to EMAC Driver instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pRxBuffer</em>&nbsp;</td><td>Pointer to allocated buffer for RX. The address should be 8-byte aligned and the size should be EMAC_RX_UNITSIZE * wRxSize. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pRxD</em>&nbsp;</td><td>Pointer to allocated RX descriptor list. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>wRxSize</em>&nbsp;</td><td>RX size, in number of registered units (RX descriptors). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pTxBuffer</em>&nbsp;</td><td>Pointer to allocated buffer for TX. The address should be 8-byte aligned and the size should be EMAC_TX_UNITSIZE * wTxSize. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pTxD</em>&nbsp;</td><td>Pointer to allocated TX descriptor list. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pTxCb</em>&nbsp;</td><td>Pointer to allocated TX callback list. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>wTxSize</em>&nbsp;</td><td>TX size, in number of registered units (TX descriptors). </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>EMACD_OK or EMACD_PARAM. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>If input address is not 8-byte aligned the address is automatically adjusted and the list size is reduced by one. </dd></dl>

<p>Definition at line <a class="el" href="emacd_8c_source.html#l00367">367</a> of file <a class="el" href="emacd_8c_source.html">emacd.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__emacd__functions_ga4419d237b3b626e890c007d0d14257e5_cgraph.gif" border="0" usemap="#group__emacd__functions_ga4419d237b3b626e890c007d0d14257e5_cgraph" alt=""/></div>
<map name="group__emacd__functions_ga4419d237b3b626e890c007d0d14257e5_cgraph" id="group__emacd__functions_ga4419d237b3b626e890c007d0d14257e5_cgraph">
<area shape="rect" id="node3" href="group__emac__functions.html#ga0b2813ecf85eefc9a690c533058e6a7c" title="EMAC_EnableIt" alt="" coords="232,5,347,35"/><area shape="rect" id="node5" href="group__emac__functions.html#ga99c2e857a5c024331d4bec2b81975fd5" title="EMAC_ReceiveEnable" alt="" coords="213,59,365,88"/><area shape="rect" id="node7" href="group__emac__functions.html#ga8217f898adb39871999fc36b43d84f72" title="EMAC_StatisticsWriteEnable" alt="" coords="193,112,385,141"/><area shape="rect" id="node9" href="group__emac__functions.html#ga071a0eb74db73410b2a35fdecf5f6d73" title="EMAC_TransmitEnable" alt="" coords="211,165,368,195"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gacc1bccf1fd00466f4fc5d9ccef01e08a"></a><!-- doxytag: member="emacd.h::EMACD_Poll" ref="gacc1bccf1fd00466f4fc5d9ccef01e08a" args="(sEmacd *pEmacd, uint8_t *pFrame, uint32_t frameSize, uint32_t *pRcvSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t EMACD_Poll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs_emacd.html">sEmacd</a> *&nbsp;</td>
          <td class="paramname"> <em>pEmacd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>pFrame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>frameSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>pRcvSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Receive a packet with EMAC If not enough buffer for the packet, the remaining data is lost but right frame length is returned. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pEmacd</em>&nbsp;</td><td>Pointer to EMAC Driver instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pFrame</em>&nbsp;</td><td>Buffer to store the frame </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>frameSize</em>&nbsp;</td><td>Size of the frame </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pRcvSize</em>&nbsp;</td><td>Received size </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>OK, no data, or frame too small </dd></dl>

<p>Definition at line <a class="el" href="emacd_8c_source.html#l00541">541</a> of file <a class="el" href="emacd_8c_source.html">emacd.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga9aacd78fd6b5109f73f80f56491ced38"></a><!-- doxytag: member="emacd.h::EMACD_Reset" ref="ga9aacd78fd6b5109f73f80f56491ced38" args="(sEmacd *pEmacd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EMACD_Reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs_emacd.html">sEmacd</a> *&nbsp;</td>
          <td class="paramname"> <em>pEmacd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reset TX &amp; RX queue &amp; statistics </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pEmacd</em>&nbsp;</td><td>Pointer to EMAC Driver instance. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="emacd_8c_source.html#l00426">426</a> of file <a class="el" href="emacd_8c_source.html">emacd.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__emacd__functions_ga9aacd78fd6b5109f73f80f56491ced38_cgraph.gif" border="0" usemap="#group__emacd__functions_ga9aacd78fd6b5109f73f80f56491ced38_cgraph" alt=""/></div>
<map name="group__emacd__functions_ga9aacd78fd6b5109f73f80f56491ced38_cgraph" id="group__emacd__functions_ga9aacd78fd6b5109f73f80f56491ced38_cgraph">
<area shape="rect" id="node3" href="group__emac__functions.html#ga71bebe40effffcacf190b81395f683ce" title="EMAC_NetworkControl" alt="" coords="165,5,320,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga2664a956e2a50befdd5f6557ec7db2af"></a><!-- doxytag: member="emacd.h::EMACD_Send" ref="ga2664a956e2a50befdd5f6557ec7db2af" args="(sEmacd *pEmacd, void *pBuffer, uint32_t size, fEmacdTransferCallback fTxCallback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t EMACD_Send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs_emacd.html">sEmacd</a> *&nbsp;</td>
          <td class="paramname"> <em>pEmacd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>pBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__emacd__types.html#gaf4bade60abbdf7894def0dff288bfb47">fEmacdTransferCallback</a>&nbsp;</td>
          <td class="paramname"> <em>fTxCb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send a packet with EMAC. If the packet size is larger than transfer buffer size error returned. If packet transfer status is monitored, specify callback for each packet. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pEmacd</em>&nbsp;</td><td>Pointer to EMAC Driver instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>The buffer to be send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The size of buffer to be send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fTxCb</em>&nbsp;</td><td>TX callback. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>EMACD_OK, EMACD_PARAM or EMACD_TX_BUSY. </dd></dl>

<p>Definition at line <a class="el" href="emacd_8c_source.html#l00446">446</a> of file <a class="el" href="emacd_8c_source.html">emacd.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__emacd__functions_ga2664a956e2a50befdd5f6557ec7db2af_cgraph.gif" border="0" usemap="#group__emacd__functions_ga2664a956e2a50befdd5f6557ec7db2af_cgraph" alt=""/></div>
<map name="group__emacd__functions_ga2664a956e2a50befdd5f6557ec7db2af_cgraph" id="group__emacd__functions_ga2664a956e2a50befdd5f6557ec7db2af_cgraph">
<area shape="rect" id="node3" href="group__emac__functions.html#ga6ac1249b8c29763eebf000ef2791d330" title="EMAC_TransmissionStart" alt="" coords="161,5,332,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaee9ef13c5746353b7a62dd0406f4c1be"></a><!-- doxytag: member="emacd.h::EMACD_SetRxCallback" ref="gaee9ef13c5746353b7a62dd0406f4c1be" args="(sEmacd *pEmacd, fEmacdTransferCallback fRxCb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EMACD_SetRxCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs_emacd.html">sEmacd</a> *&nbsp;</td>
          <td class="paramname"> <em>pEmacd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__emacd__types.html#gaf4bade60abbdf7894def0dff288bfb47">fEmacdTransferCallback</a>&nbsp;</td>
          <td class="paramname"> <em>fRxCb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Register/Clear RX callback. Callback will be invoked after the next received frame.</p>
<p>When <a class="el" href="group__emacd__functions.html#gacc1bccf1fd00466f4fc5d9ccef01e08a">EMACD_Poll()</a> returns EMACD_RX_NULL the application task call <a class="el" href="group__emacd__functions.html#gaee9ef13c5746353b7a62dd0406f4c1be">EMACD_SetRxCallback()</a> to register fRxCb() callback and enters suspend state. The callback is in charge to resume the task once a new frame has been received. The next time <a class="el" href="group__emacd__functions.html#gacc1bccf1fd00466f4fc5d9ccef01e08a">EMACD_Poll()</a> is called, it will be successfull.</p>
<p>This function is usually invoked from the RX callback itself with NULL callback, to unregister. Once the callback has resumed the application task, there is no need to invoke the callback again.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pEmacd</em>&nbsp;</td><td>Pointer to EMAC Driver instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fRxCb</em>&nbsp;</td><td>RX callback. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="emacd_8c_source.html#l00663">663</a> of file <a class="el" href="emacd_8c_source.html">emacd.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__emacd__functions_gaee9ef13c5746353b7a62dd0406f4c1be_cgraph.gif" border="0" usemap="#group__emacd__functions_gaee9ef13c5746353b7a62dd0406f4c1be_cgraph" alt=""/></div>
<map name="group__emacd__functions_gaee9ef13c5746353b7a62dd0406f4c1be_cgraph" id="group__emacd__functions_gaee9ef13c5746353b7a62dd0406f4c1be_cgraph">
<area shape="rect" id="node3" href="group__emac__functions.html#gacc9eacec3c55de65cd1e467bbdf41ff1" title="EMAC_DisableIt" alt="" coords="216,5,333,35"/><area shape="rect" id="node5" href="group__emac__functions.html#ga0b2813ecf85eefc9a690c533058e6a7c" title="EMAC_EnableIt" alt="" coords="217,59,332,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga1352c618c1a15c294d74e64b9c4e5358"></a><!-- doxytag: member="emacd.h::EMACD_SetTxWakeupCallback" ref="ga1352c618c1a15c294d74e64b9c4e5358" args="(sEmacd *pEmacd, fEmacdWakeupCallback fWakeup, uint8_t bThreshold)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t EMACD_SetTxWakeupCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs_emacd.html">sEmacd</a> *&nbsp;</td>
          <td class="paramname"> <em>pEmacd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__emacd__types.html#ga66b7f24fea5dc59dfc79fdda80c344b3">fEmacdWakeupCallback</a>&nbsp;</td>
          <td class="paramname"> <em>fWakeup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>bThreshold</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Register/Clear TX wakeup callback.</p>
<p>When <a class="el" href="group__emacd__functions.html#ga2664a956e2a50befdd5f6557ec7db2af">EMACD_Send()</a> returns EMACD_TX_BUSY (all TD busy) the application task calls <a class="el" href="group__emacd__functions.html#ga1352c618c1a15c294d74e64b9c4e5358">EMACD_SetTxWakeupCallback()</a> to register fWakeup() callback and enters suspend state. The callback is in charge to resume the task once several TD have been released. The next time <a class="el" href="group__emacd__functions.html#ga2664a956e2a50befdd5f6557ec7db2af">EMACD_Send()</a> will be called, it shall be successfull.</p>
<p>This function is usually invoked with NULL callback from the TX wakeup callback itself, to unregister. Once the callback has resumed the application task, there is no need to invoke the callback again.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pEmacd</em>&nbsp;</td><td>Pointer to EMAC Driver instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fWakeup</em>&nbsp;</td><td>Wakeup callback. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bThreshould</em>&nbsp;</td><td>Number of free TD before wakeup callback invoked. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>EMACD_OK, EMACD_PARAM on parameter error. </dd></dl>

<p>Definition at line <a class="el" href="emacd_8c_source.html#l00697">697</a> of file <a class="el" href="emacd_8c_source.html">emacd.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab0c431a973b8030856013f9664de0424"></a><!-- doxytag: member="emacd.h::EMACD_TxLoad" ref="gab0c431a973b8030856013f9664de0424" args="(sEmacd *pEmacd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t EMACD_TxLoad </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs_emacd.html">sEmacd</a> *&nbsp;</td>
          <td class="paramname"> <em>pEmacd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return current load of TX. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pEmacd</em>&nbsp;</td><td>Pointer to EMAC Driver instance. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="emacd_8c_source.html#l00524">524</a> of file <a class="el" href="emacd_8c_source.html">emacd.c</a>.</p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
